<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Fishjam - Fishjam Python Server SDK</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/fontawesome.min.css" rel="stylesheet">
        <link href="../css/brands.min.css" rel="stylesheet">
        <link href="../css/solid.min.css" rel="stylesheet">
        <link href="../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../css/custom.css" rel="stylesheet">
        <link href="../css/version-select.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../index.html">Fishjam Python Server SDK</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../index.html" class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="../server_notifications.html" class="nav-link">Server Notifications</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Api</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="index.html" class="dropdown-item">Index</a>
</li>
                                    
<li>
    <a href="fishjam.html" class="dropdown-item active" aria-current="page">Fishjam</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Fishjam</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="fishjam/agent.html" class="dropdown-item">Agent</a>
</li>
            
<li>
    <a href="fishjam/errors.html" class="dropdown-item">Errors</a>
</li>
            
<li>
    <a href="fishjam/events.html" class="dropdown-item">Events</a>
</li>
            
<li>
    <a href="fishjam/peer.html" class="dropdown-item">Peer</a>
</li>
            
<li>
    <a href="fishjam/room.html" class="dropdown-item">Room</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                            <li class="nav-item">
                                <a rel="prev" href="index.html" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="fishjam/agent.html" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.1"/>
    <title>Fishjam Python Server SDK</title>
            <link rel="icon" href="https://logo.swmansion.com/membrane/?width=100&amp;variant=signetDark"/>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-G3M2G8V4M7"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-G3M2G8V4M7');
</script>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>
            <img src="https://logo.swmansion.com/membrane/?width=70&amp;variant=signetDark" class="logo" alt="project logo"/>


            <h2>Contents</h2>
            <ul>
  <li><a href="#fishjam-python-server-sdk">Fishjam Python Server SDK</a>
  <ul>
    <li><a href="#installation">Installation</a></li>
    <li><a href="#usage">Usage</a></li>
    <li><a href="#license">License</a></li>
    <li><a href="#fishjam-is-created-by-software-mansion">Fishjam is created by Software Mansion</a></li>
  </ul></li>
</ul>


            <h2>Submodules</h2>
            <ul>
                    <li><a href="fishjam/events.html">events</a></li>
                    <li><a href="fishjam/errors.html">errors</a></li>
                    <li><a href="fishjam/room.html">room</a></li>
                    <li><a href="fishjam/peer.html">peer</a></li>
                    <li><a href="fishjam/agent.html">agent</a></li>
            </ul>

            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#FishjamClient">FishjamClient</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#FishjamClient.__init__">FishjamClient</a>
                        </li>
                        <li>
                                <a class="function" href="#FishjamClient.create_peer">create_peer</a>
                        </li>
                        <li>
                                <a class="function" href="#FishjamClient.create_agent">create_agent</a>
                        </li>
                        <li>
                                <a class="function" href="#FishjamClient.create_room">create_room</a>
                        </li>
                        <li>
                                <a class="function" href="#FishjamClient.get_all_rooms">get_all_rooms</a>
                        </li>
                        <li>
                                <a class="function" href="#FishjamClient.get_room">get_room</a>
                        </li>
                        <li>
                                <a class="function" href="#FishjamClient.delete_peer">delete_peer</a>
                        </li>
                        <li>
                                <a class="function" href="#FishjamClient.delete_room">delete_room</a>
                        </li>
                        <li>
                                <a class="function" href="#FishjamClient.refresh_peer_token">refresh_peer_token</a>
                        </li>
                        <li>
                                <a class="function" href="#FishjamClient.create_livestream_viewer_token">create_livestream_viewer_token</a>
                        </li>
                        <li>
                                <a class="function" href="#FishjamClient.create_livestream_streamer_token">create_livestream_streamer_token</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#FishjamNotifier">FishjamNotifier</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#FishjamNotifier.__init__">FishjamNotifier</a>
                        </li>
                        <li>
                                <a class="function" href="#FishjamNotifier.on_server_notification">on_server_notification</a>
                        </li>
                        <li>
                                <a class="function" href="#FishjamNotifier.connect">connect</a>
                        </li>
                        <li>
                                <a class="function" href="#FishjamNotifier.wait_ready">wait_ready</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#receive_binary">receive_binary</a>
            </li>
            <li>
                    <a class="class" href="#PeerMetadata">PeerMetadata</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#PeerMetadata.__init__">PeerMetadata</a>
                        </li>
                        <li>
                                <a class="variable" href="#PeerMetadata.additional_properties">additional_properties</a>
                        </li>
                        <li>
                                <a class="function" href="#PeerMetadata.to_dict">to_dict</a>
                        </li>
                        <li>
                                <a class="function" href="#PeerMetadata.from_dict">from_dict</a>
                        </li>
                        <li>
                                <a class="variable" href="#PeerMetadata.additional_keys">additional_keys</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#PeerOptions">PeerOptions</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#PeerOptions.__init__">PeerOptions</a>
                        </li>
                        <li>
                                <a class="variable" href="#PeerOptions.enable_simulcast">enable_simulcast</a>
                        </li>
                        <li>
                                <a class="variable" href="#PeerOptions.metadata">metadata</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#RoomOptions">RoomOptions</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#RoomOptions.__init__">RoomOptions</a>
                        </li>
                        <li>
                                <a class="variable" href="#RoomOptions.max_peers">max_peers</a>
                        </li>
                        <li>
                                <a class="variable" href="#RoomOptions.video_codec">video_codec</a>
                        </li>
                        <li>
                                <a class="variable" href="#RoomOptions.webhook_url">webhook_url</a>
                        </li>
                        <li>
                                <a class="variable" href="#RoomOptions.room_type">room_type</a>
                        </li>
                        <li>
                                <a class="variable" href="#RoomOptions.public">public</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AgentOptions">AgentOptions</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AgentOptions.__init__">AgentOptions</a>
                        </li>
                        <li>
                                <a class="variable" href="#AgentOptions.output">output</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AgentOutputOptions">AgentOutputOptions</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AgentOutputOptions.__init__">AgentOutputOptions</a>
                        </li>
                        <li>
                                <a class="variable" href="#AgentOutputOptions.audio_format">audio_format</a>
                        </li>
                        <li>
                                <a class="variable" href="#AgentOutputOptions.audio_sample_rate">audio_sample_rate</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Room">Room</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Room.__init__">Room</a>
                        </li>
                        <li>
                                <a class="variable" href="#Room.config">config</a>
                        </li>
                        <li>
                                <a class="variable" href="#Room.id">id</a>
                        </li>
                        <li>
                                <a class="variable" href="#Room.peers">peers</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Peer">Peer</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Peer.__init__">Peer</a>
                        </li>
                        <li>
                                <a class="variable" href="#Peer.id">id</a>
                        </li>
                        <li>
                                <a class="variable" href="#Peer.metadata">metadata</a>
                        </li>
                        <li>
                                <a class="variable" href="#Peer.status">status</a>
                        </li>
                        <li>
                                <a class="variable" href="#Peer.subscribe_mode">subscribe_mode</a>
                        </li>
                        <li>
                                <a class="variable" href="#Peer.subscriptions">subscriptions</a>
                        </li>
                        <li>
                                <a class="variable" href="#Peer.tracks">tracks</a>
                        </li>
                        <li>
                                <a class="variable" href="#Peer.type_">type_</a>
                        </li>
                        <li>
                                <a class="variable" href="#Peer.additional_properties">additional_properties</a>
                        </li>
                        <li>
                                <a class="function" href="#Peer.to_dict">to_dict</a>
                        </li>
                        <li>
                                <a class="function" href="#Peer.from_dict">from_dict</a>
                        </li>
                        <li>
                                <a class="variable" href="#Peer.additional_keys">additional_keys</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">

                        <div class="docstring"><p><img src="./images/fishjam-card.png" width="100%"></p>

<h1 id="fishjam-python-server-sdk">Fishjam Python Server SDK</h1>

<p>Python server SDK for the <a href="https://fishjam.io/">Fishjam</a>.</p>

<p>Read the docs <a href="https://fishjam-cloud.github.io/python-server-sdk">here</a></p>

<h2 id="installation">Installation</h2>

<pre><code>pip install fishjam-server-sdk
</code></pre>

<h2 id="usage">Usage</h2>

<p>The SDK exports two main classes for interacting with Fishjam server:
<code><a href="#FishjamClient">FishjamClient</a></code> and <code><a href="#FishjamNotifier">FishjamNotifier</a></code>.</p>

<p><code><a href="#FishjamClient">FishjamClient</a></code> wraps http REST api calls, while <code><a href="#FishjamNotifier">FishjamNotifier</a></code> is responsible for receiving real-time updates from the server.</p>

<h3 id="fishjamclient">FishjamClient</h3>

<p>Create a <code><a href="#FishjamClient">FishjamClient</a></code> instance, providing the fishjam server address and api token</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">fishjam</span><span class="w"> </span><span class="kn">import</span> <span class="n">FishjamClient</span>

<span class="n">fishjam_client</span> <span class="o">=</span> <span class="n">FishjamClient</span><span class="p">(</span><span class="n">fishjam_id</span><span class="o">=</span><span class="s2">&quot;&lt;fishjam_id&gt;&quot;</span><span class="p">,</span> <span class="n">management_token</span><span class="o">=</span><span class="s2">&quot;&lt;management_token&gt;&quot;</span><span class="p">)</span>
</code></pre>
</div>

<p>You can use it to interact with Fishjam to manage rooms and peers</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="c1"># Create a room</span>
<span class="n">options</span> <span class="o">=</span> <span class="n">RoomOptions</span><span class="p">(</span><span class="n">video_codec</span><span class="o">=</span><span class="s2">&quot;h264&quot;</span><span class="p">,</span> <span class="n">webhook_url</span><span class="o">=</span><span class="s2">&quot;http://localhost:5000/webhook&quot;</span><span class="p">)</span>
<span class="n">room</span> <span class="o">=</span> <span class="n">fishjam_client</span><span class="o">.</span><span class="n">create_room</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>

<span class="c1"># Room(components=[], config=RoomConfig(max_peers=None, video_codec=&lt;RoomConfigVideoCodec.H264: &#39;h264&#39;&gt;, webhook_url=&#39;http://localhost:5000/webhook&#39;), id=&#39;1d905478-ccfc-44d6-a6e7-8ccb1b38d955&#39;, peers=[])</span>

<span class="c1"># Add peer to the room</span>
<span class="n">peer</span><span class="p">,</span> <span class="n">token</span> <span class="o">=</span> <span class="n">fishjam_client</span><span class="o">.</span><span class="n">create_peer</span><span class="p">(</span><span class="n">room</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

<span class="c1"># Peer(id=&#39;b1232c7e-c969-4450-acdf-ea24f3cdd7f6&#39;, status=&lt;PeerStatus.DISCONNECTED: &#39;disconnected&#39;&gt;, type=&#39;webrtc&#39;), &#39;M8TUGhj-L11KpyG-2zBPIo&#39;</span>
</code></pre>
</div>

<p>All methods in <code><a href="#FishjamClient">FishjamClient</a></code> may raise one of the exceptions deriving from <code><a href="fishjam/errors.html#HTTPError">fishjam.errors.HTTPError</a></code>. They are defined in <code><a href="fishjam/errors.html">fishjam.errors</a></code>.</p>

<h3 id="fishjamnotifier">FishjamNotifier</h3>

<p>FishjamNotifier allows for receiving real-time updates from the Fishjam Server.</p>

<p>You can read more about notifications in the
<a href="https://fishjam-cloud.github.io/fishjam-docs/next/getting_started/notifications">Fishjam Docs</a>.</p>

<p>Create <code><a href="#FishjamNotifier">FishjamNotifier</a></code> instance</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">fishjam</span><span class="w"> </span><span class="kn">import</span> <span class="n">FishjamNotifier</span>

<span class="n">fishjam_notifier</span> <span class="o">=</span> <span class="n">FishjamNotifier</span><span class="p">(</span><span class="n">fishjam_id</span><span class="o">=</span><span class="s1">&#39;&lt;fishjam_id&gt;&#39;</span><span class="p">,</span> <span class="n">management_token</span><span class="o">=</span><span class="s1">&#39;&lt;management_token&gt;&#39;</span><span class="p">)</span>
</code></pre>
</div>

<p>Then define a handler for incoming messages</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="nd">@notifier</span><span class="o">.</span><span class="n">on_server_notification</span>
<span class="k">def</span><span class="w"> </span><span class="nf">handle_notification</span><span class="p">(</span><span class="n">server_notification</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Received a notification: </span><span class="si">{</span><span class="n">server_notification</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre>
</div>

<p>After that you can start the notifier</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">test_notifier</span><span class="p">():</span>
    <span class="n">notifier_task</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">fishjam_notifier</span><span class="o">.</span><span class="n">connect</span><span class="p">())</span>

    <span class="c1"># Wait for notifier to be ready to receive messages</span>
    <span class="k">await</span> <span class="n">fishjam_notifier</span><span class="o">.</span><span class="n">wait_ready</span><span class="p">()</span>

    <span class="c1"># Create a room to trigger a server notification</span>
    <span class="n">fishjam_client</span> <span class="o">=</span> <span class="n">FishjamClient</span><span class="p">()</span>
    <span class="n">fishjam_client</span><span class="o">.</span><span class="n">create_room</span><span class="p">()</span>

    <span class="k">await</span> <span class="n">notifier_task</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">test_notifier</span><span class="p">())</span>

<span class="c1"># Received a notification: ServerMessageRoomCreated(room_id=&#39;69a3fd1a-6a4d-47bc-ae54-0c72b0d05e29&#39;)</span>
</code></pre>
</div>

<h2 id="license">License</h2>

<p>Licensed under the <a href="LICENSE">Apache License, Version 2.0</a></p>

<h2 id="fishjam-is-created-by-software-mansion">Fishjam is created by Software Mansion</h2>

<p>Since 2012 <a href="https://swmansion.com">Software Mansion</a> is a software agency with experience in building web and mobile
apps. We are Core React Native Contributors and experts in dealing with all kinds of React Native issues. We can help
you build your next dream product –
<a href="https://swmansion.com/contact/projects?utm_source=fishjam&utm_medium=python-readme">Hire us</a>.</p>

<p><a href="https://swmansion.com/contact/projects?utm_source=fishjam&utm_medium=python-readme"><img src="https://logo.swmansion.com/logo?color=white&variant=desktop&width=200&tag=react-client" alt="Software Mansion" /></a></p>
</div>

                        <input id="mod-fishjam-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-fishjam-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos"> 1</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos"> 2</span></a><span class="sd">.. include:: ../README.md</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos"> 3</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos"> 4</span></a>
</span><span id="L-5"><a href="#L-5"><span class="linenos"> 5</span></a><span class="c1"># pylint: disable=locally-disabled, no-name-in-module, import-error</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos"> 6</span></a>
</span><span id="L-7"><a href="#L-7"><span class="linenos"> 7</span></a><span class="c1"># Exceptions and Server Messages</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos"> 8</span></a>
</span><span id="L-9"><a href="#L-9"><span class="linenos"> 9</span></a><span class="c1"># API</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">10</span></a><span class="c1"># pylint: disable=locally-disabled, no-name-in-module, import-error</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">11</span></a>
</span><span id="L-12"><a href="#L-12"><span class="linenos">12</span></a><span class="c1"># Exceptions and Server Messages</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">13</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">fishjam</span><span class="w"> </span><span class="kn">import</span> <span class="n">agent</span><span class="p">,</span> <span class="n">errors</span><span class="p">,</span> <span class="n">events</span><span class="p">,</span> <span class="n">peer</span><span class="p">,</span> <span class="n">room</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">14</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">fishjam._openapi_client.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">PeerMetadata</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">15</span></a>
</span><span id="L-16"><a href="#L-16"><span class="linenos">16</span></a><span class="c1"># API</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">17</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">fishjam._webhook_notifier</span><span class="w"> </span><span class="kn">import</span> <span class="n">receive_binary</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">18</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">fishjam._ws_notifier</span><span class="w"> </span><span class="kn">import</span> <span class="n">FishjamNotifier</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">19</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">fishjam.api._fishjam_client</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">20</span></a>    <span class="n">AgentOptions</span><span class="p">,</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">21</span></a>    <span class="n">AgentOutputOptions</span><span class="p">,</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">22</span></a>    <span class="n">FishjamClient</span><span class="p">,</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">23</span></a>    <span class="n">Peer</span><span class="p">,</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">24</span></a>    <span class="n">PeerOptions</span><span class="p">,</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">25</span></a>    <span class="n">Room</span><span class="p">,</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">26</span></a>    <span class="n">RoomOptions</span><span class="p">,</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos">27</span></a><span class="p">)</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos">28</span></a>
</span><span id="L-29"><a href="#L-29"><span class="linenos">29</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">30</span></a>    <span class="s2">&quot;FishjamClient&quot;</span><span class="p">,</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">31</span></a>    <span class="s2">&quot;FishjamNotifier&quot;</span><span class="p">,</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos">32</span></a>    <span class="s2">&quot;receive_binary&quot;</span><span class="p">,</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos">33</span></a>    <span class="s2">&quot;PeerMetadata&quot;</span><span class="p">,</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">34</span></a>    <span class="s2">&quot;PeerOptions&quot;</span><span class="p">,</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">35</span></a>    <span class="s2">&quot;RoomOptions&quot;</span><span class="p">,</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos">36</span></a>    <span class="s2">&quot;AgentOptions&quot;</span><span class="p">,</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">37</span></a>    <span class="s2">&quot;AgentOutputOptions&quot;</span><span class="p">,</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">38</span></a>    <span class="s2">&quot;Room&quot;</span><span class="p">,</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">39</span></a>    <span class="s2">&quot;Peer&quot;</span><span class="p">,</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">40</span></a>    <span class="s2">&quot;events&quot;</span><span class="p">,</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">41</span></a>    <span class="s2">&quot;errors&quot;</span><span class="p">,</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos">42</span></a>    <span class="s2">&quot;room&quot;</span><span class="p">,</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos">43</span></a>    <span class="s2">&quot;peer&quot;</span><span class="p">,</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos">44</span></a>    <span class="s2">&quot;agent&quot;</span><span class="p">,</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos">45</span></a><span class="p">]</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos">46</span></a>
</span><span id="L-47"><a href="#L-47"><span class="linenos">47</span></a><span class="n">__docformat__</span> <span class="o">=</span> <span class="s2">&quot;restructuredtext&quot;</span>
</span></pre></div>


            </section>
                <section id="FishjamClient">
                            <input id="FishjamClient-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">

    <span class="def">class</span>
    <span class="name">FishjamClient</span><wbr>(<span class="base">fishjam.api._client.Client</span>):

                <label class="view-source-button" for="FishjamClient-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FishjamClient"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FishjamClient-103"><a href="#FishjamClient-103"><span class="linenos">103</span></a><span class="k">class</span><span class="w"> </span><span class="nc">FishjamClient</span><span class="p">(</span><span class="n">Client</span><span class="p">):</span>
</span><span id="FishjamClient-104"><a href="#FishjamClient-104"><span class="linenos">104</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Allows for managing rooms&quot;&quot;&quot;</span>
</span><span id="FishjamClient-105"><a href="#FishjamClient-105"><span class="linenos">105</span></a>
</span><span id="FishjamClient-106"><a href="#FishjamClient-106"><span class="linenos">106</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="FishjamClient-107"><a href="#FishjamClient-107"><span class="linenos">107</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="FishjamClient-108"><a href="#FishjamClient-108"><span class="linenos">108</span></a>        <span class="n">fishjam_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="FishjamClient-109"><a href="#FishjamClient-109"><span class="linenos">109</span></a>        <span class="n">management_token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="FishjamClient-110"><a href="#FishjamClient-110"><span class="linenos">110</span></a>    <span class="p">):</span>
</span><span id="FishjamClient-111"><a href="#FishjamClient-111"><span class="linenos">111</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FishjamClient-112"><a href="#FishjamClient-112"><span class="linenos">112</span></a><span class="sd">        Create a FishjamClient instance, providing the fishjam id and management token.</span>
</span><span id="FishjamClient-113"><a href="#FishjamClient-113"><span class="linenos">113</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FishjamClient-114"><a href="#FishjamClient-114"><span class="linenos">114</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">fishjam_id</span><span class="o">=</span><span class="n">fishjam_id</span><span class="p">,</span> <span class="n">management_token</span><span class="o">=</span><span class="n">management_token</span><span class="p">)</span>
</span><span id="FishjamClient-115"><a href="#FishjamClient-115"><span class="linenos">115</span></a>
</span><span id="FishjamClient-116"><a href="#FishjamClient-116"><span class="linenos">116</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_peer</span><span class="p">(</span>
</span><span id="FishjamClient-117"><a href="#FishjamClient-117"><span class="linenos">117</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="FishjamClient-118"><a href="#FishjamClient-118"><span class="linenos">118</span></a>        <span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="FishjamClient-119"><a href="#FishjamClient-119"><span class="linenos">119</span></a>        <span class="n">options</span><span class="p">:</span> <span class="n">PeerOptions</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="FishjamClient-120"><a href="#FishjamClient-120"><span class="linenos">120</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Peer</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
</span><span id="FishjamClient-121"><a href="#FishjamClient-121"><span class="linenos">121</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FishjamClient-122"><a href="#FishjamClient-122"><span class="linenos">122</span></a><span class="sd">        Creates peer in the room</span>
</span><span id="FishjamClient-123"><a href="#FishjamClient-123"><span class="linenos">123</span></a>
</span><span id="FishjamClient-124"><a href="#FishjamClient-124"><span class="linenos">124</span></a><span class="sd">        Returns a tuple (`Peer`, `PeerToken`) - the token is needed by Peer</span>
</span><span id="FishjamClient-125"><a href="#FishjamClient-125"><span class="linenos">125</span></a><span class="sd">        to authenticate to Fishjam.</span>
</span><span id="FishjamClient-126"><a href="#FishjamClient-126"><span class="linenos">126</span></a>
</span><span id="FishjamClient-127"><a href="#FishjamClient-127"><span class="linenos">127</span></a><span class="sd">        The possible options to pass for peer are `PeerOptions`.</span>
</span><span id="FishjamClient-128"><a href="#FishjamClient-128"><span class="linenos">128</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FishjamClient-129"><a href="#FishjamClient-129"><span class="linenos">129</span></a>        <span class="n">options</span> <span class="o">=</span> <span class="n">options</span> <span class="ow">or</span> <span class="n">PeerOptions</span><span class="p">()</span>
</span><span id="FishjamClient-130"><a href="#FishjamClient-130"><span class="linenos">130</span></a>
</span><span id="FishjamClient-131"><a href="#FishjamClient-131"><span class="linenos">131</span></a>        <span class="n">peer_metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__parse_peer_metadata</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
</span><span id="FishjamClient-132"><a href="#FishjamClient-132"><span class="linenos">132</span></a>        <span class="n">peer_options</span> <span class="o">=</span> <span class="n">PeerOptionsWebRTC</span><span class="p">(</span>
</span><span id="FishjamClient-133"><a href="#FishjamClient-133"><span class="linenos">133</span></a>            <span class="n">enable_simulcast</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">enable_simulcast</span><span class="p">,</span>
</span><span id="FishjamClient-134"><a href="#FishjamClient-134"><span class="linenos">134</span></a>            <span class="n">metadata</span><span class="o">=</span><span class="n">peer_metadata</span><span class="p">,</span>
</span><span id="FishjamClient-135"><a href="#FishjamClient-135"><span class="linenos">135</span></a>        <span class="p">)</span>
</span><span id="FishjamClient-136"><a href="#FishjamClient-136"><span class="linenos">136</span></a>        <span class="n">body</span> <span class="o">=</span> <span class="n">AddPeerBody</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="n">PeerType</span><span class="o">.</span><span class="n">WEBRTC</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">peer_options</span><span class="p">)</span>
</span><span id="FishjamClient-137"><a href="#FishjamClient-137"><span class="linenos">137</span></a>
</span><span id="FishjamClient-138"><a href="#FishjamClient-138"><span class="linenos">138</span></a>        <span class="n">resp</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
</span><span id="FishjamClient-139"><a href="#FishjamClient-139"><span class="linenos">139</span></a>            <span class="n">PeerDetailsResponse</span><span class="p">,</span>
</span><span id="FishjamClient-140"><a href="#FishjamClient-140"><span class="linenos">140</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">room_add_peer</span><span class="p">,</span> <span class="n">room_id</span><span class="o">=</span><span class="n">room_id</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="n">body</span><span class="p">),</span>
</span><span id="FishjamClient-141"><a href="#FishjamClient-141"><span class="linenos">141</span></a>        <span class="p">)</span>
</span><span id="FishjamClient-142"><a href="#FishjamClient-142"><span class="linenos">142</span></a>
</span><span id="FishjamClient-143"><a href="#FishjamClient-143"><span class="linenos">143</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">peer</span><span class="p">,</span> <span class="n">resp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">token</span><span class="p">)</span>
</span><span id="FishjamClient-144"><a href="#FishjamClient-144"><span class="linenos">144</span></a>
</span><span id="FishjamClient-145"><a href="#FishjamClient-145"><span class="linenos">145</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_agent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">AgentOptions</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="FishjamClient-146"><a href="#FishjamClient-146"><span class="linenos">146</span></a>        <span class="n">options</span> <span class="o">=</span> <span class="n">options</span> <span class="ow">or</span> <span class="n">AgentOptions</span><span class="p">()</span>
</span><span id="FishjamClient-147"><a href="#FishjamClient-147"><span class="linenos">147</span></a>        <span class="n">body</span> <span class="o">=</span> <span class="n">AddPeerBody</span><span class="p">(</span>
</span><span id="FishjamClient-148"><a href="#FishjamClient-148"><span class="linenos">148</span></a>            <span class="n">type_</span><span class="o">=</span><span class="n">PeerType</span><span class="o">.</span><span class="n">AGENT</span><span class="p">,</span>
</span><span id="FishjamClient-149"><a href="#FishjamClient-149"><span class="linenos">149</span></a>            <span class="n">options</span><span class="o">=</span><span class="n">PeerOptionsAgent</span><span class="p">(</span>
</span><span id="FishjamClient-150"><a href="#FishjamClient-150"><span class="linenos">150</span></a>                <span class="n">output</span><span class="o">=</span><span class="n">PeerOptionsAgentOutput</span><span class="p">(</span>
</span><span id="FishjamClient-151"><a href="#FishjamClient-151"><span class="linenos">151</span></a>                    <span class="n">audio_format</span><span class="o">=</span><span class="n">PeerOptionsAgentOutputAudioFormat</span><span class="p">(</span>
</span><span id="FishjamClient-152"><a href="#FishjamClient-152"><span class="linenos">152</span></a>                        <span class="n">options</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">audio_format</span>
</span><span id="FishjamClient-153"><a href="#FishjamClient-153"><span class="linenos">153</span></a>                    <span class="p">),</span>
</span><span id="FishjamClient-154"><a href="#FishjamClient-154"><span class="linenos">154</span></a>                    <span class="n">audio_sample_rate</span><span class="o">=</span><span class="n">PeerOptionsAgentOutputAudioSampleRate</span><span class="p">(</span>
</span><span id="FishjamClient-155"><a href="#FishjamClient-155"><span class="linenos">155</span></a>                        <span class="n">options</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">audio_sample_rate</span>
</span><span id="FishjamClient-156"><a href="#FishjamClient-156"><span class="linenos">156</span></a>                    <span class="p">),</span>
</span><span id="FishjamClient-157"><a href="#FishjamClient-157"><span class="linenos">157</span></a>                <span class="p">)</span>
</span><span id="FishjamClient-158"><a href="#FishjamClient-158"><span class="linenos">158</span></a>            <span class="p">),</span>
</span><span id="FishjamClient-159"><a href="#FishjamClient-159"><span class="linenos">159</span></a>        <span class="p">)</span>
</span><span id="FishjamClient-160"><a href="#FishjamClient-160"><span class="linenos">160</span></a>
</span><span id="FishjamClient-161"><a href="#FishjamClient-161"><span class="linenos">161</span></a>        <span class="n">resp</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
</span><span id="FishjamClient-162"><a href="#FishjamClient-162"><span class="linenos">162</span></a>            <span class="n">PeerDetailsResponse</span><span class="p">,</span>
</span><span id="FishjamClient-163"><a href="#FishjamClient-163"><span class="linenos">163</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">room_add_peer</span><span class="p">,</span> <span class="n">room_id</span><span class="o">=</span><span class="n">room_id</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="n">body</span><span class="p">),</span>
</span><span id="FishjamClient-164"><a href="#FishjamClient-164"><span class="linenos">164</span></a>        <span class="p">)</span>
</span><span id="FishjamClient-165"><a href="#FishjamClient-165"><span class="linenos">165</span></a>
</span><span id="FishjamClient-166"><a href="#FishjamClient-166"><span class="linenos">166</span></a>        <span class="k">return</span> <span class="n">Agent</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">peer</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">room_id</span><span class="p">,</span> <span class="n">resp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fishjam_url</span><span class="p">)</span>
</span><span id="FishjamClient-167"><a href="#FishjamClient-167"><span class="linenos">167</span></a>
</span><span id="FishjamClient-168"><a href="#FishjamClient-168"><span class="linenos">168</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_room</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">RoomOptions</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Room</span><span class="p">:</span>
</span><span id="FishjamClient-169"><a href="#FishjamClient-169"><span class="linenos">169</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FishjamClient-170"><a href="#FishjamClient-170"><span class="linenos">170</span></a><span class="sd">        Creates a new room</span>
</span><span id="FishjamClient-171"><a href="#FishjamClient-171"><span class="linenos">171</span></a><span class="sd">        Returns the created `Room`</span>
</span><span id="FishjamClient-172"><a href="#FishjamClient-172"><span class="linenos">172</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FishjamClient-173"><a href="#FishjamClient-173"><span class="linenos">173</span></a>        <span class="n">options</span> <span class="o">=</span> <span class="n">options</span> <span class="ow">or</span> <span class="n">RoomOptions</span><span class="p">()</span>
</span><span id="FishjamClient-174"><a href="#FishjamClient-174"><span class="linenos">174</span></a>
</span><span id="FishjamClient-175"><a href="#FishjamClient-175"><span class="linenos">175</span></a>        <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">video_codec</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FishjamClient-176"><a href="#FishjamClient-176"><span class="linenos">176</span></a>            <span class="n">codec</span> <span class="o">=</span> <span class="n">UNSET</span>
</span><span id="FishjamClient-177"><a href="#FishjamClient-177"><span class="linenos">177</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="FishjamClient-178"><a href="#FishjamClient-178"><span class="linenos">178</span></a>            <span class="n">codec</span> <span class="o">=</span> <span class="n">RoomConfigVideoCodec</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">video_codec</span><span class="p">)</span>
</span><span id="FishjamClient-179"><a href="#FishjamClient-179"><span class="linenos">179</span></a>
</span><span id="FishjamClient-180"><a href="#FishjamClient-180"><span class="linenos">180</span></a>        <span class="n">config</span> <span class="o">=</span> <span class="n">RoomConfig</span><span class="p">(</span>
</span><span id="FishjamClient-181"><a href="#FishjamClient-181"><span class="linenos">181</span></a>            <span class="n">max_peers</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">max_peers</span><span class="p">,</span>
</span><span id="FishjamClient-182"><a href="#FishjamClient-182"><span class="linenos">182</span></a>            <span class="n">video_codec</span><span class="o">=</span><span class="n">codec</span><span class="p">,</span>
</span><span id="FishjamClient-183"><a href="#FishjamClient-183"><span class="linenos">183</span></a>            <span class="n">webhook_url</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">webhook_url</span><span class="p">,</span>
</span><span id="FishjamClient-184"><a href="#FishjamClient-184"><span class="linenos">184</span></a>            <span class="n">room_type</span><span class="o">=</span><span class="n">RoomConfigRoomType</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">room_type</span><span class="p">),</span>
</span><span id="FishjamClient-185"><a href="#FishjamClient-185"><span class="linenos">185</span></a>            <span class="n">public</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">public</span><span class="p">,</span>
</span><span id="FishjamClient-186"><a href="#FishjamClient-186"><span class="linenos">186</span></a>        <span class="p">)</span>
</span><span id="FishjamClient-187"><a href="#FishjamClient-187"><span class="linenos">187</span></a>
</span><span id="FishjamClient-188"><a href="#FishjamClient-188"><span class="linenos">188</span></a>        <span class="n">room</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
</span><span id="FishjamClient-189"><a href="#FishjamClient-189"><span class="linenos">189</span></a>            <span class="n">RoomCreateDetailsResponse</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">room_create_room</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
</span><span id="FishjamClient-190"><a href="#FishjamClient-190"><span class="linenos">190</span></a>        <span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">room</span>
</span><span id="FishjamClient-191"><a href="#FishjamClient-191"><span class="linenos">191</span></a>
</span><span id="FishjamClient-192"><a href="#FishjamClient-192"><span class="linenos">192</span></a>        <span class="k">return</span> <span class="n">Room</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">room</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">room</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">peers</span><span class="o">=</span><span class="n">room</span><span class="o">.</span><span class="n">peers</span><span class="p">)</span>
</span><span id="FishjamClient-193"><a href="#FishjamClient-193"><span class="linenos">193</span></a>
</span><span id="FishjamClient-194"><a href="#FishjamClient-194"><span class="linenos">194</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_rooms</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Room</span><span class="p">]:</span>
</span><span id="FishjamClient-195"><a href="#FishjamClient-195"><span class="linenos">195</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns list of all rooms&quot;&quot;&quot;</span>
</span><span id="FishjamClient-196"><a href="#FishjamClient-196"><span class="linenos">196</span></a>
</span><span id="FishjamClient-197"><a href="#FishjamClient-197"><span class="linenos">197</span></a>        <span class="n">rooms</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">RoomsListingResponse</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">room_get_all_rooms</span><span class="p">))</span><span class="o">.</span><span class="n">data</span>
</span><span id="FishjamClient-198"><a href="#FishjamClient-198"><span class="linenos">198</span></a>
</span><span id="FishjamClient-199"><a href="#FishjamClient-199"><span class="linenos">199</span></a>        <span class="k">return</span> <span class="p">[</span>
</span><span id="FishjamClient-200"><a href="#FishjamClient-200"><span class="linenos">200</span></a>            <span class="n">Room</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">room</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">room</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">peers</span><span class="o">=</span><span class="n">room</span><span class="o">.</span><span class="n">peers</span><span class="p">)</span> <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="n">rooms</span>
</span><span id="FishjamClient-201"><a href="#FishjamClient-201"><span class="linenos">201</span></a>        <span class="p">]</span>
</span><span id="FishjamClient-202"><a href="#FishjamClient-202"><span class="linenos">202</span></a>
</span><span id="FishjamClient-203"><a href="#FishjamClient-203"><span class="linenos">203</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_room</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Room</span><span class="p">:</span>
</span><span id="FishjamClient-204"><a href="#FishjamClient-204"><span class="linenos">204</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns room with the given id&quot;&quot;&quot;</span>
</span><span id="FishjamClient-205"><a href="#FishjamClient-205"><span class="linenos">205</span></a>
</span><span id="FishjamClient-206"><a href="#FishjamClient-206"><span class="linenos">206</span></a>        <span class="n">room</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
</span><span id="FishjamClient-207"><a href="#FishjamClient-207"><span class="linenos">207</span></a>            <span class="n">RoomDetailsResponse</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">room_get_room</span><span class="p">,</span> <span class="n">room_id</span><span class="o">=</span><span class="n">room_id</span><span class="p">)</span>
</span><span id="FishjamClient-208"><a href="#FishjamClient-208"><span class="linenos">208</span></a>        <span class="p">)</span><span class="o">.</span><span class="n">data</span>
</span><span id="FishjamClient-209"><a href="#FishjamClient-209"><span class="linenos">209</span></a>
</span><span id="FishjamClient-210"><a href="#FishjamClient-210"><span class="linenos">210</span></a>        <span class="k">return</span> <span class="n">Room</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">room</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">room</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">peers</span><span class="o">=</span><span class="n">room</span><span class="o">.</span><span class="n">peers</span><span class="p">)</span>
</span><span id="FishjamClient-211"><a href="#FishjamClient-211"><span class="linenos">211</span></a>
</span><span id="FishjamClient-212"><a href="#FishjamClient-212"><span class="linenos">212</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">delete_peer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">peer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FishjamClient-213"><a href="#FishjamClient-213"><span class="linenos">213</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes peer&quot;&quot;&quot;</span>
</span><span id="FishjamClient-214"><a href="#FishjamClient-214"><span class="linenos">214</span></a>
</span><span id="FishjamClient-215"><a href="#FishjamClient-215"><span class="linenos">215</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">room_delete_peer</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">peer_id</span><span class="p">,</span> <span class="n">room_id</span><span class="o">=</span><span class="n">room_id</span><span class="p">)</span>
</span><span id="FishjamClient-216"><a href="#FishjamClient-216"><span class="linenos">216</span></a>
</span><span id="FishjamClient-217"><a href="#FishjamClient-217"><span class="linenos">217</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">delete_room</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FishjamClient-218"><a href="#FishjamClient-218"><span class="linenos">218</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a room&quot;&quot;&quot;</span>
</span><span id="FishjamClient-219"><a href="#FishjamClient-219"><span class="linenos">219</span></a>
</span><span id="FishjamClient-220"><a href="#FishjamClient-220"><span class="linenos">220</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">room_delete_room</span><span class="p">,</span> <span class="n">room_id</span><span class="o">=</span><span class="n">room_id</span><span class="p">)</span>
</span><span id="FishjamClient-221"><a href="#FishjamClient-221"><span class="linenos">221</span></a>
</span><span id="FishjamClient-222"><a href="#FishjamClient-222"><span class="linenos">222</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">refresh_peer_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">peer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="FishjamClient-223"><a href="#FishjamClient-223"><span class="linenos">223</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Refreshes peer token&quot;&quot;&quot;</span>
</span><span id="FishjamClient-224"><a href="#FishjamClient-224"><span class="linenos">224</span></a>
</span><span id="FishjamClient-225"><a href="#FishjamClient-225"><span class="linenos">225</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
</span><span id="FishjamClient-226"><a href="#FishjamClient-226"><span class="linenos">226</span></a>            <span class="n">PeerRefreshTokenResponse</span><span class="p">,</span>
</span><span id="FishjamClient-227"><a href="#FishjamClient-227"><span class="linenos">227</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">room_refresh_token</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">peer_id</span><span class="p">,</span> <span class="n">room_id</span><span class="o">=</span><span class="n">room_id</span><span class="p">),</span>
</span><span id="FishjamClient-228"><a href="#FishjamClient-228"><span class="linenos">228</span></a>        <span class="p">)</span>
</span><span id="FishjamClient-229"><a href="#FishjamClient-229"><span class="linenos">229</span></a>
</span><span id="FishjamClient-230"><a href="#FishjamClient-230"><span class="linenos">230</span></a>        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">token</span>
</span><span id="FishjamClient-231"><a href="#FishjamClient-231"><span class="linenos">231</span></a>
</span><span id="FishjamClient-232"><a href="#FishjamClient-232"><span class="linenos">232</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_livestream_viewer_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="FishjamClient-233"><a href="#FishjamClient-233"><span class="linenos">233</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generates viewer token for livestream rooms&quot;&quot;&quot;</span>
</span><span id="FishjamClient-234"><a href="#FishjamClient-234"><span class="linenos">234</span></a>
</span><span id="FishjamClient-235"><a href="#FishjamClient-235"><span class="linenos">235</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
</span><span id="FishjamClient-236"><a href="#FishjamClient-236"><span class="linenos">236</span></a>            <span class="n">ViewerToken</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">viewer_generate_viewer_token</span><span class="p">,</span> <span class="n">room_id</span><span class="o">=</span><span class="n">room_id</span><span class="p">)</span>
</span><span id="FishjamClient-237"><a href="#FishjamClient-237"><span class="linenos">237</span></a>        <span class="p">)</span>
</span><span id="FishjamClient-238"><a href="#FishjamClient-238"><span class="linenos">238</span></a>
</span><span id="FishjamClient-239"><a href="#FishjamClient-239"><span class="linenos">239</span></a>        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">token</span>
</span><span id="FishjamClient-240"><a href="#FishjamClient-240"><span class="linenos">240</span></a>
</span><span id="FishjamClient-241"><a href="#FishjamClient-241"><span class="linenos">241</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_livestream_streamer_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="FishjamClient-242"><a href="#FishjamClient-242"><span class="linenos">242</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generates streamer token for livestream rooms&quot;&quot;&quot;</span>
</span><span id="FishjamClient-243"><a href="#FishjamClient-243"><span class="linenos">243</span></a>
</span><span id="FishjamClient-244"><a href="#FishjamClient-244"><span class="linenos">244</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
</span><span id="FishjamClient-245"><a href="#FishjamClient-245"><span class="linenos">245</span></a>            <span class="n">StreamerToken</span><span class="p">,</span>
</span><span id="FishjamClient-246"><a href="#FishjamClient-246"><span class="linenos">246</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">streamer_generate_streamer_token</span><span class="p">,</span> <span class="n">room_id</span><span class="o">=</span><span class="n">room_id</span><span class="p">),</span>
</span><span id="FishjamClient-247"><a href="#FishjamClient-247"><span class="linenos">247</span></a>        <span class="p">)</span>
</span><span id="FishjamClient-248"><a href="#FishjamClient-248"><span class="linenos">248</span></a>
</span><span id="FishjamClient-249"><a href="#FishjamClient-249"><span class="linenos">249</span></a>        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">token</span>
</span><span id="FishjamClient-250"><a href="#FishjamClient-250"><span class="linenos">250</span></a>
</span><span id="FishjamClient-251"><a href="#FishjamClient-251"><span class="linenos">251</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">__parse_peer_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PeerOptionsWebRTCMetadata</span><span class="p">:</span>
</span><span id="FishjamClient-252"><a href="#FishjamClient-252"><span class="linenos">252</span></a>        <span class="n">peer_metadata</span> <span class="o">=</span> <span class="n">PeerOptionsWebRTCMetadata</span><span class="p">()</span>
</span><span id="FishjamClient-253"><a href="#FishjamClient-253"><span class="linenos">253</span></a>
</span><span id="FishjamClient-254"><a href="#FishjamClient-254"><span class="linenos">254</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">metadata</span><span class="p">:</span>
</span><span id="FishjamClient-255"><a href="#FishjamClient-255"><span class="linenos">255</span></a>            <span class="k">return</span> <span class="n">peer_metadata</span>
</span><span id="FishjamClient-256"><a href="#FishjamClient-256"><span class="linenos">256</span></a>
</span><span id="FishjamClient-257"><a href="#FishjamClient-257"><span class="linenos">257</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">metadata</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="FishjamClient-258"><a href="#FishjamClient-258"><span class="linenos">258</span></a>            <span class="n">peer_metadata</span><span class="o">.</span><span class="n">additional_properties</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="FishjamClient-259"><a href="#FishjamClient-259"><span class="linenos">259</span></a>
</span><span id="FishjamClient-260"><a href="#FishjamClient-260"><span class="linenos">260</span></a>        <span class="k">return</span> <span class="n">peer_metadata</span>
</span></pre></div>


            <div class="docstring"><p>Allows for managing rooms</p>
</div>


                            <div id="FishjamClient.__init__" class="classattr">
                                        <input id="FishjamClient.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="name">FishjamClient</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">fishjam_id</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">management_token</span><span class="p">:</span> <span class="nb">str</span></span>)</span>

                <label class="view-source-button" for="FishjamClient.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FishjamClient.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FishjamClient.__init__-106"><a href="#FishjamClient.__init__-106"><span class="linenos">106</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="FishjamClient.__init__-107"><a href="#FishjamClient.__init__-107"><span class="linenos">107</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="FishjamClient.__init__-108"><a href="#FishjamClient.__init__-108"><span class="linenos">108</span></a>        <span class="n">fishjam_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="FishjamClient.__init__-109"><a href="#FishjamClient.__init__-109"><span class="linenos">109</span></a>        <span class="n">management_token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="FishjamClient.__init__-110"><a href="#FishjamClient.__init__-110"><span class="linenos">110</span></a>    <span class="p">):</span>
</span><span id="FishjamClient.__init__-111"><a href="#FishjamClient.__init__-111"><span class="linenos">111</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FishjamClient.__init__-112"><a href="#FishjamClient.__init__-112"><span class="linenos">112</span></a><span class="sd">        Create a FishjamClient instance, providing the fishjam id and management token.</span>
</span><span id="FishjamClient.__init__-113"><a href="#FishjamClient.__init__-113"><span class="linenos">113</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FishjamClient.__init__-114"><a href="#FishjamClient.__init__-114"><span class="linenos">114</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">fishjam_id</span><span class="o">=</span><span class="n">fishjam_id</span><span class="p">,</span> <span class="n">management_token</span><span class="o">=</span><span class="n">management_token</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Create a FishjamClient instance, providing the fishjam id and management token.</p>
</div>


                            </div>
                            <div id="FishjamClient.create_peer" class="classattr">
                                        <input id="FishjamClient.create_peer-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">create_peer</span><span class="signature pdoc-code multiline">(<span class="param">  <span class="bp">self</span>,</span><span class="param">    <span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">  <span class="n">options</span><span class="p">:</span> <span class="n"><a href="#PeerOptions">PeerOptions</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="n"><a href="#Peer">Peer</a></span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="FishjamClient.create_peer-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FishjamClient.create_peer"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FishjamClient.create_peer-116"><a href="#FishjamClient.create_peer-116"><span class="linenos">116</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_peer</span><span class="p">(</span>
</span><span id="FishjamClient.create_peer-117"><a href="#FishjamClient.create_peer-117"><span class="linenos">117</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="FishjamClient.create_peer-118"><a href="#FishjamClient.create_peer-118"><span class="linenos">118</span></a>        <span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="FishjamClient.create_peer-119"><a href="#FishjamClient.create_peer-119"><span class="linenos">119</span></a>        <span class="n">options</span><span class="p">:</span> <span class="n">PeerOptions</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="FishjamClient.create_peer-120"><a href="#FishjamClient.create_peer-120"><span class="linenos">120</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Peer</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
</span><span id="FishjamClient.create_peer-121"><a href="#FishjamClient.create_peer-121"><span class="linenos">121</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FishjamClient.create_peer-122"><a href="#FishjamClient.create_peer-122"><span class="linenos">122</span></a><span class="sd">        Creates peer in the room</span>
</span><span id="FishjamClient.create_peer-123"><a href="#FishjamClient.create_peer-123"><span class="linenos">123</span></a>
</span><span id="FishjamClient.create_peer-124"><a href="#FishjamClient.create_peer-124"><span class="linenos">124</span></a><span class="sd">        Returns a tuple (`Peer`, `PeerToken`) - the token is needed by Peer</span>
</span><span id="FishjamClient.create_peer-125"><a href="#FishjamClient.create_peer-125"><span class="linenos">125</span></a><span class="sd">        to authenticate to Fishjam.</span>
</span><span id="FishjamClient.create_peer-126"><a href="#FishjamClient.create_peer-126"><span class="linenos">126</span></a>
</span><span id="FishjamClient.create_peer-127"><a href="#FishjamClient.create_peer-127"><span class="linenos">127</span></a><span class="sd">        The possible options to pass for peer are `PeerOptions`.</span>
</span><span id="FishjamClient.create_peer-128"><a href="#FishjamClient.create_peer-128"><span class="linenos">128</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FishjamClient.create_peer-129"><a href="#FishjamClient.create_peer-129"><span class="linenos">129</span></a>        <span class="n">options</span> <span class="o">=</span> <span class="n">options</span> <span class="ow">or</span> <span class="n">PeerOptions</span><span class="p">()</span>
</span><span id="FishjamClient.create_peer-130"><a href="#FishjamClient.create_peer-130"><span class="linenos">130</span></a>
</span><span id="FishjamClient.create_peer-131"><a href="#FishjamClient.create_peer-131"><span class="linenos">131</span></a>        <span class="n">peer_metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__parse_peer_metadata</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
</span><span id="FishjamClient.create_peer-132"><a href="#FishjamClient.create_peer-132"><span class="linenos">132</span></a>        <span class="n">peer_options</span> <span class="o">=</span> <span class="n">PeerOptionsWebRTC</span><span class="p">(</span>
</span><span id="FishjamClient.create_peer-133"><a href="#FishjamClient.create_peer-133"><span class="linenos">133</span></a>            <span class="n">enable_simulcast</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">enable_simulcast</span><span class="p">,</span>
</span><span id="FishjamClient.create_peer-134"><a href="#FishjamClient.create_peer-134"><span class="linenos">134</span></a>            <span class="n">metadata</span><span class="o">=</span><span class="n">peer_metadata</span><span class="p">,</span>
</span><span id="FishjamClient.create_peer-135"><a href="#FishjamClient.create_peer-135"><span class="linenos">135</span></a>        <span class="p">)</span>
</span><span id="FishjamClient.create_peer-136"><a href="#FishjamClient.create_peer-136"><span class="linenos">136</span></a>        <span class="n">body</span> <span class="o">=</span> <span class="n">AddPeerBody</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="n">PeerType</span><span class="o">.</span><span class="n">WEBRTC</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">peer_options</span><span class="p">)</span>
</span><span id="FishjamClient.create_peer-137"><a href="#FishjamClient.create_peer-137"><span class="linenos">137</span></a>
</span><span id="FishjamClient.create_peer-138"><a href="#FishjamClient.create_peer-138"><span class="linenos">138</span></a>        <span class="n">resp</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
</span><span id="FishjamClient.create_peer-139"><a href="#FishjamClient.create_peer-139"><span class="linenos">139</span></a>            <span class="n">PeerDetailsResponse</span><span class="p">,</span>
</span><span id="FishjamClient.create_peer-140"><a href="#FishjamClient.create_peer-140"><span class="linenos">140</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">room_add_peer</span><span class="p">,</span> <span class="n">room_id</span><span class="o">=</span><span class="n">room_id</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="n">body</span><span class="p">),</span>
</span><span id="FishjamClient.create_peer-141"><a href="#FishjamClient.create_peer-141"><span class="linenos">141</span></a>        <span class="p">)</span>
</span><span id="FishjamClient.create_peer-142"><a href="#FishjamClient.create_peer-142"><span class="linenos">142</span></a>
</span><span id="FishjamClient.create_peer-143"><a href="#FishjamClient.create_peer-143"><span class="linenos">143</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">peer</span><span class="p">,</span> <span class="n">resp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">token</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Creates peer in the room</p>

<p>Returns a tuple (<code><a href="#Peer">Peer</a></code>, <code>PeerToken</code>) - the token is needed by Peer
to authenticate to Fishjam.</p>

<p>The possible options to pass for peer are <code><a href="#PeerOptions">PeerOptions</a></code>.</p>
</div>


                            </div>
                            <div id="FishjamClient.create_agent" class="classattr">
                                        <input id="FishjamClient.create_agent-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">create_agent</span><span class="signature pdoc-code multiline">(<span class="param"> <span class="bp">self</span>,</span><span class="param">    <span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">  <span class="n">options</span><span class="p">:</span> <span class="n"><a href="#AgentOptions">AgentOptions</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="FishjamClient.create_agent-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FishjamClient.create_agent"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FishjamClient.create_agent-145"><a href="#FishjamClient.create_agent-145"><span class="linenos">145</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_agent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">AgentOptions</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="FishjamClient.create_agent-146"><a href="#FishjamClient.create_agent-146"><span class="linenos">146</span></a>        <span class="n">options</span> <span class="o">=</span> <span class="n">options</span> <span class="ow">or</span> <span class="n">AgentOptions</span><span class="p">()</span>
</span><span id="FishjamClient.create_agent-147"><a href="#FishjamClient.create_agent-147"><span class="linenos">147</span></a>        <span class="n">body</span> <span class="o">=</span> <span class="n">AddPeerBody</span><span class="p">(</span>
</span><span id="FishjamClient.create_agent-148"><a href="#FishjamClient.create_agent-148"><span class="linenos">148</span></a>            <span class="n">type_</span><span class="o">=</span><span class="n">PeerType</span><span class="o">.</span><span class="n">AGENT</span><span class="p">,</span>
</span><span id="FishjamClient.create_agent-149"><a href="#FishjamClient.create_agent-149"><span class="linenos">149</span></a>            <span class="n">options</span><span class="o">=</span><span class="n">PeerOptionsAgent</span><span class="p">(</span>
</span><span id="FishjamClient.create_agent-150"><a href="#FishjamClient.create_agent-150"><span class="linenos">150</span></a>                <span class="n">output</span><span class="o">=</span><span class="n">PeerOptionsAgentOutput</span><span class="p">(</span>
</span><span id="FishjamClient.create_agent-151"><a href="#FishjamClient.create_agent-151"><span class="linenos">151</span></a>                    <span class="n">audio_format</span><span class="o">=</span><span class="n">PeerOptionsAgentOutputAudioFormat</span><span class="p">(</span>
</span><span id="FishjamClient.create_agent-152"><a href="#FishjamClient.create_agent-152"><span class="linenos">152</span></a>                        <span class="n">options</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">audio_format</span>
</span><span id="FishjamClient.create_agent-153"><a href="#FishjamClient.create_agent-153"><span class="linenos">153</span></a>                    <span class="p">),</span>
</span><span id="FishjamClient.create_agent-154"><a href="#FishjamClient.create_agent-154"><span class="linenos">154</span></a>                    <span class="n">audio_sample_rate</span><span class="o">=</span><span class="n">PeerOptionsAgentOutputAudioSampleRate</span><span class="p">(</span>
</span><span id="FishjamClient.create_agent-155"><a href="#FishjamClient.create_agent-155"><span class="linenos">155</span></a>                        <span class="n">options</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">audio_sample_rate</span>
</span><span id="FishjamClient.create_agent-156"><a href="#FishjamClient.create_agent-156"><span class="linenos">156</span></a>                    <span class="p">),</span>
</span><span id="FishjamClient.create_agent-157"><a href="#FishjamClient.create_agent-157"><span class="linenos">157</span></a>                <span class="p">)</span>
</span><span id="FishjamClient.create_agent-158"><a href="#FishjamClient.create_agent-158"><span class="linenos">158</span></a>            <span class="p">),</span>
</span><span id="FishjamClient.create_agent-159"><a href="#FishjamClient.create_agent-159"><span class="linenos">159</span></a>        <span class="p">)</span>
</span><span id="FishjamClient.create_agent-160"><a href="#FishjamClient.create_agent-160"><span class="linenos">160</span></a>
</span><span id="FishjamClient.create_agent-161"><a href="#FishjamClient.create_agent-161"><span class="linenos">161</span></a>        <span class="n">resp</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
</span><span id="FishjamClient.create_agent-162"><a href="#FishjamClient.create_agent-162"><span class="linenos">162</span></a>            <span class="n">PeerDetailsResponse</span><span class="p">,</span>
</span><span id="FishjamClient.create_agent-163"><a href="#FishjamClient.create_agent-163"><span class="linenos">163</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">room_add_peer</span><span class="p">,</span> <span class="n">room_id</span><span class="o">=</span><span class="n">room_id</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="n">body</span><span class="p">),</span>
</span><span id="FishjamClient.create_agent-164"><a href="#FishjamClient.create_agent-164"><span class="linenos">164</span></a>        <span class="p">)</span>
</span><span id="FishjamClient.create_agent-165"><a href="#FishjamClient.create_agent-165"><span class="linenos">165</span></a>
</span><span id="FishjamClient.create_agent-166"><a href="#FishjamClient.create_agent-166"><span class="linenos">166</span></a>        <span class="k">return</span> <span class="n">Agent</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">peer</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">room_id</span><span class="p">,</span> <span class="n">resp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fishjam_url</span><span class="p">)</span>
</span></pre></div>




                            </div>
                            <div id="FishjamClient.create_room" class="classattr">
                                        <input id="FishjamClient.create_room-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">create_room</span><span class="signature pdoc-code multiline">(<span class="param">  <span class="bp">self</span>,</span><span class="param">    <span class="n">options</span><span class="p">:</span> <span class="n"><a href="#RoomOptions">RoomOptions</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n"><a href="#Room">Room</a></span>:</span></span>

                <label class="view-source-button" for="FishjamClient.create_room-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FishjamClient.create_room"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FishjamClient.create_room-168"><a href="#FishjamClient.create_room-168"><span class="linenos">168</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_room</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">RoomOptions</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Room</span><span class="p">:</span>
</span><span id="FishjamClient.create_room-169"><a href="#FishjamClient.create_room-169"><span class="linenos">169</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FishjamClient.create_room-170"><a href="#FishjamClient.create_room-170"><span class="linenos">170</span></a><span class="sd">        Creates a new room</span>
</span><span id="FishjamClient.create_room-171"><a href="#FishjamClient.create_room-171"><span class="linenos">171</span></a><span class="sd">        Returns the created `Room`</span>
</span><span id="FishjamClient.create_room-172"><a href="#FishjamClient.create_room-172"><span class="linenos">172</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FishjamClient.create_room-173"><a href="#FishjamClient.create_room-173"><span class="linenos">173</span></a>        <span class="n">options</span> <span class="o">=</span> <span class="n">options</span> <span class="ow">or</span> <span class="n">RoomOptions</span><span class="p">()</span>
</span><span id="FishjamClient.create_room-174"><a href="#FishjamClient.create_room-174"><span class="linenos">174</span></a>
</span><span id="FishjamClient.create_room-175"><a href="#FishjamClient.create_room-175"><span class="linenos">175</span></a>        <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">video_codec</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FishjamClient.create_room-176"><a href="#FishjamClient.create_room-176"><span class="linenos">176</span></a>            <span class="n">codec</span> <span class="o">=</span> <span class="n">UNSET</span>
</span><span id="FishjamClient.create_room-177"><a href="#FishjamClient.create_room-177"><span class="linenos">177</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="FishjamClient.create_room-178"><a href="#FishjamClient.create_room-178"><span class="linenos">178</span></a>            <span class="n">codec</span> <span class="o">=</span> <span class="n">RoomConfigVideoCodec</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">video_codec</span><span class="p">)</span>
</span><span id="FishjamClient.create_room-179"><a href="#FishjamClient.create_room-179"><span class="linenos">179</span></a>
</span><span id="FishjamClient.create_room-180"><a href="#FishjamClient.create_room-180"><span class="linenos">180</span></a>        <span class="n">config</span> <span class="o">=</span> <span class="n">RoomConfig</span><span class="p">(</span>
</span><span id="FishjamClient.create_room-181"><a href="#FishjamClient.create_room-181"><span class="linenos">181</span></a>            <span class="n">max_peers</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">max_peers</span><span class="p">,</span>
</span><span id="FishjamClient.create_room-182"><a href="#FishjamClient.create_room-182"><span class="linenos">182</span></a>            <span class="n">video_codec</span><span class="o">=</span><span class="n">codec</span><span class="p">,</span>
</span><span id="FishjamClient.create_room-183"><a href="#FishjamClient.create_room-183"><span class="linenos">183</span></a>            <span class="n">webhook_url</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">webhook_url</span><span class="p">,</span>
</span><span id="FishjamClient.create_room-184"><a href="#FishjamClient.create_room-184"><span class="linenos">184</span></a>            <span class="n">room_type</span><span class="o">=</span><span class="n">RoomConfigRoomType</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">room_type</span><span class="p">),</span>
</span><span id="FishjamClient.create_room-185"><a href="#FishjamClient.create_room-185"><span class="linenos">185</span></a>            <span class="n">public</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">public</span><span class="p">,</span>
</span><span id="FishjamClient.create_room-186"><a href="#FishjamClient.create_room-186"><span class="linenos">186</span></a>        <span class="p">)</span>
</span><span id="FishjamClient.create_room-187"><a href="#FishjamClient.create_room-187"><span class="linenos">187</span></a>
</span><span id="FishjamClient.create_room-188"><a href="#FishjamClient.create_room-188"><span class="linenos">188</span></a>        <span class="n">room</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
</span><span id="FishjamClient.create_room-189"><a href="#FishjamClient.create_room-189"><span class="linenos">189</span></a>            <span class="n">RoomCreateDetailsResponse</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">room_create_room</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
</span><span id="FishjamClient.create_room-190"><a href="#FishjamClient.create_room-190"><span class="linenos">190</span></a>        <span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">room</span>
</span><span id="FishjamClient.create_room-191"><a href="#FishjamClient.create_room-191"><span class="linenos">191</span></a>
</span><span id="FishjamClient.create_room-192"><a href="#FishjamClient.create_room-192"><span class="linenos">192</span></a>        <span class="k">return</span> <span class="n">Room</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">room</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">room</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">peers</span><span class="o">=</span><span class="n">room</span><span class="o">.</span><span class="n">peers</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Creates a new room
Returns the created <code><a href="#Room">Room</a></code></p>
</div>


                            </div>
                            <div id="FishjamClient.get_all_rooms" class="classattr">
                                        <input id="FishjamClient.get_all_rooms-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">get_all_rooms</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="n"><a href="#Room">Room</a></span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="FishjamClient.get_all_rooms-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FishjamClient.get_all_rooms"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FishjamClient.get_all_rooms-194"><a href="#FishjamClient.get_all_rooms-194"><span class="linenos">194</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_rooms</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Room</span><span class="p">]:</span>
</span><span id="FishjamClient.get_all_rooms-195"><a href="#FishjamClient.get_all_rooms-195"><span class="linenos">195</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns list of all rooms&quot;&quot;&quot;</span>
</span><span id="FishjamClient.get_all_rooms-196"><a href="#FishjamClient.get_all_rooms-196"><span class="linenos">196</span></a>
</span><span id="FishjamClient.get_all_rooms-197"><a href="#FishjamClient.get_all_rooms-197"><span class="linenos">197</span></a>        <span class="n">rooms</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">RoomsListingResponse</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">room_get_all_rooms</span><span class="p">))</span><span class="o">.</span><span class="n">data</span>
</span><span id="FishjamClient.get_all_rooms-198"><a href="#FishjamClient.get_all_rooms-198"><span class="linenos">198</span></a>
</span><span id="FishjamClient.get_all_rooms-199"><a href="#FishjamClient.get_all_rooms-199"><span class="linenos">199</span></a>        <span class="k">return</span> <span class="p">[</span>
</span><span id="FishjamClient.get_all_rooms-200"><a href="#FishjamClient.get_all_rooms-200"><span class="linenos">200</span></a>            <span class="n">Room</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">room</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">room</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">peers</span><span class="o">=</span><span class="n">room</span><span class="o">.</span><span class="n">peers</span><span class="p">)</span> <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="n">rooms</span>
</span><span id="FishjamClient.get_all_rooms-201"><a href="#FishjamClient.get_all_rooms-201"><span class="linenos">201</span></a>        <span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Returns list of all rooms</p>
</div>


                            </div>
                            <div id="FishjamClient.get_room" class="classattr">
                                        <input id="FishjamClient.get_room-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">get_room</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n"><a href="#Room">Room</a></span>:</span></span>

                <label class="view-source-button" for="FishjamClient.get_room-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FishjamClient.get_room"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FishjamClient.get_room-203"><a href="#FishjamClient.get_room-203"><span class="linenos">203</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_room</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Room</span><span class="p">:</span>
</span><span id="FishjamClient.get_room-204"><a href="#FishjamClient.get_room-204"><span class="linenos">204</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns room with the given id&quot;&quot;&quot;</span>
</span><span id="FishjamClient.get_room-205"><a href="#FishjamClient.get_room-205"><span class="linenos">205</span></a>
</span><span id="FishjamClient.get_room-206"><a href="#FishjamClient.get_room-206"><span class="linenos">206</span></a>        <span class="n">room</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
</span><span id="FishjamClient.get_room-207"><a href="#FishjamClient.get_room-207"><span class="linenos">207</span></a>            <span class="n">RoomDetailsResponse</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">room_get_room</span><span class="p">,</span> <span class="n">room_id</span><span class="o">=</span><span class="n">room_id</span><span class="p">)</span>
</span><span id="FishjamClient.get_room-208"><a href="#FishjamClient.get_room-208"><span class="linenos">208</span></a>        <span class="p">)</span><span class="o">.</span><span class="n">data</span>
</span><span id="FishjamClient.get_room-209"><a href="#FishjamClient.get_room-209"><span class="linenos">209</span></a>
</span><span id="FishjamClient.get_room-210"><a href="#FishjamClient.get_room-210"><span class="linenos">210</span></a>        <span class="k">return</span> <span class="n">Room</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">room</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">room</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">peers</span><span class="o">=</span><span class="n">room</span><span class="o">.</span><span class="n">peers</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Returns room with the given id</p>
</div>


                            </div>
                            <div id="FishjamClient.delete_peer" class="classattr">
                                        <input id="FishjamClient.delete_peer-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">delete_peer</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">peer_id</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="FishjamClient.delete_peer-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FishjamClient.delete_peer"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FishjamClient.delete_peer-212"><a href="#FishjamClient.delete_peer-212"><span class="linenos">212</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">delete_peer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">peer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FishjamClient.delete_peer-213"><a href="#FishjamClient.delete_peer-213"><span class="linenos">213</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes peer&quot;&quot;&quot;</span>
</span><span id="FishjamClient.delete_peer-214"><a href="#FishjamClient.delete_peer-214"><span class="linenos">214</span></a>
</span><span id="FishjamClient.delete_peer-215"><a href="#FishjamClient.delete_peer-215"><span class="linenos">215</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">room_delete_peer</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">peer_id</span><span class="p">,</span> <span class="n">room_id</span><span class="o">=</span><span class="n">room_id</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Deletes peer</p>
</div>


                            </div>
                            <div id="FishjamClient.delete_room" class="classattr">
                                        <input id="FishjamClient.delete_room-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">delete_room</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="FishjamClient.delete_room-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FishjamClient.delete_room"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FishjamClient.delete_room-217"><a href="#FishjamClient.delete_room-217"><span class="linenos">217</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">delete_room</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FishjamClient.delete_room-218"><a href="#FishjamClient.delete_room-218"><span class="linenos">218</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a room&quot;&quot;&quot;</span>
</span><span id="FishjamClient.delete_room-219"><a href="#FishjamClient.delete_room-219"><span class="linenos">219</span></a>
</span><span id="FishjamClient.delete_room-220"><a href="#FishjamClient.delete_room-220"><span class="linenos">220</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">room_delete_room</span><span class="p">,</span> <span class="n">room_id</span><span class="o">=</span><span class="n">room_id</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Deletes a room</p>
</div>


                            </div>
                            <div id="FishjamClient.refresh_peer_token" class="classattr">
                                        <input id="FishjamClient.refresh_peer_token-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">refresh_peer_token</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">peer_id</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="FishjamClient.refresh_peer_token-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FishjamClient.refresh_peer_token"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FishjamClient.refresh_peer_token-222"><a href="#FishjamClient.refresh_peer_token-222"><span class="linenos">222</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">refresh_peer_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">peer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="FishjamClient.refresh_peer_token-223"><a href="#FishjamClient.refresh_peer_token-223"><span class="linenos">223</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Refreshes peer token&quot;&quot;&quot;</span>
</span><span id="FishjamClient.refresh_peer_token-224"><a href="#FishjamClient.refresh_peer_token-224"><span class="linenos">224</span></a>
</span><span id="FishjamClient.refresh_peer_token-225"><a href="#FishjamClient.refresh_peer_token-225"><span class="linenos">225</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
</span><span id="FishjamClient.refresh_peer_token-226"><a href="#FishjamClient.refresh_peer_token-226"><span class="linenos">226</span></a>            <span class="n">PeerRefreshTokenResponse</span><span class="p">,</span>
</span><span id="FishjamClient.refresh_peer_token-227"><a href="#FishjamClient.refresh_peer_token-227"><span class="linenos">227</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">room_refresh_token</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">peer_id</span><span class="p">,</span> <span class="n">room_id</span><span class="o">=</span><span class="n">room_id</span><span class="p">),</span>
</span><span id="FishjamClient.refresh_peer_token-228"><a href="#FishjamClient.refresh_peer_token-228"><span class="linenos">228</span></a>        <span class="p">)</span>
</span><span id="FishjamClient.refresh_peer_token-229"><a href="#FishjamClient.refresh_peer_token-229"><span class="linenos">229</span></a>
</span><span id="FishjamClient.refresh_peer_token-230"><a href="#FishjamClient.refresh_peer_token-230"><span class="linenos">230</span></a>        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">token</span>
</span></pre></div>


            <div class="docstring"><p>Refreshes peer token</p>
</div>


                            </div>
                            <div id="FishjamClient.create_livestream_viewer_token" class="classattr">
                                        <input id="FishjamClient.create_livestream_viewer_token-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">create_livestream_viewer_token</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="FishjamClient.create_livestream_viewer_token-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FishjamClient.create_livestream_viewer_token"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FishjamClient.create_livestream_viewer_token-232"><a href="#FishjamClient.create_livestream_viewer_token-232"><span class="linenos">232</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_livestream_viewer_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="FishjamClient.create_livestream_viewer_token-233"><a href="#FishjamClient.create_livestream_viewer_token-233"><span class="linenos">233</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generates viewer token for livestream rooms&quot;&quot;&quot;</span>
</span><span id="FishjamClient.create_livestream_viewer_token-234"><a href="#FishjamClient.create_livestream_viewer_token-234"><span class="linenos">234</span></a>
</span><span id="FishjamClient.create_livestream_viewer_token-235"><a href="#FishjamClient.create_livestream_viewer_token-235"><span class="linenos">235</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
</span><span id="FishjamClient.create_livestream_viewer_token-236"><a href="#FishjamClient.create_livestream_viewer_token-236"><span class="linenos">236</span></a>            <span class="n">ViewerToken</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">viewer_generate_viewer_token</span><span class="p">,</span> <span class="n">room_id</span><span class="o">=</span><span class="n">room_id</span><span class="p">)</span>
</span><span id="FishjamClient.create_livestream_viewer_token-237"><a href="#FishjamClient.create_livestream_viewer_token-237"><span class="linenos">237</span></a>        <span class="p">)</span>
</span><span id="FishjamClient.create_livestream_viewer_token-238"><a href="#FishjamClient.create_livestream_viewer_token-238"><span class="linenos">238</span></a>
</span><span id="FishjamClient.create_livestream_viewer_token-239"><a href="#FishjamClient.create_livestream_viewer_token-239"><span class="linenos">239</span></a>        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">token</span>
</span></pre></div>


            <div class="docstring"><p>Generates viewer token for livestream rooms</p>
</div>


                            </div>
                            <div id="FishjamClient.create_livestream_streamer_token" class="classattr">
                                        <input id="FishjamClient.create_livestream_streamer_token-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">create_livestream_streamer_token</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="FishjamClient.create_livestream_streamer_token-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FishjamClient.create_livestream_streamer_token"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FishjamClient.create_livestream_streamer_token-241"><a href="#FishjamClient.create_livestream_streamer_token-241"><span class="linenos">241</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_livestream_streamer_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="FishjamClient.create_livestream_streamer_token-242"><a href="#FishjamClient.create_livestream_streamer_token-242"><span class="linenos">242</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generates streamer token for livestream rooms&quot;&quot;&quot;</span>
</span><span id="FishjamClient.create_livestream_streamer_token-243"><a href="#FishjamClient.create_livestream_streamer_token-243"><span class="linenos">243</span></a>
</span><span id="FishjamClient.create_livestream_streamer_token-244"><a href="#FishjamClient.create_livestream_streamer_token-244"><span class="linenos">244</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
</span><span id="FishjamClient.create_livestream_streamer_token-245"><a href="#FishjamClient.create_livestream_streamer_token-245"><span class="linenos">245</span></a>            <span class="n">StreamerToken</span><span class="p">,</span>
</span><span id="FishjamClient.create_livestream_streamer_token-246"><a href="#FishjamClient.create_livestream_streamer_token-246"><span class="linenos">246</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="n">streamer_generate_streamer_token</span><span class="p">,</span> <span class="n">room_id</span><span class="o">=</span><span class="n">room_id</span><span class="p">),</span>
</span><span id="FishjamClient.create_livestream_streamer_token-247"><a href="#FishjamClient.create_livestream_streamer_token-247"><span class="linenos">247</span></a>        <span class="p">)</span>
</span><span id="FishjamClient.create_livestream_streamer_token-248"><a href="#FishjamClient.create_livestream_streamer_token-248"><span class="linenos">248</span></a>
</span><span id="FishjamClient.create_livestream_streamer_token-249"><a href="#FishjamClient.create_livestream_streamer_token-249"><span class="linenos">249</span></a>        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">token</span>
</span></pre></div>


            <div class="docstring"><p>Generates streamer token for livestream rooms</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>fishjam.api._client.Client</dt>
                                <dd id="FishjamClient.client" class="variable">client</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="FishjamNotifier">
                            <input id="FishjamNotifier-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">

    <span class="def">class</span>
    <span class="name">FishjamNotifier</span>:

                <label class="view-source-button" for="FishjamNotifier-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FishjamNotifier"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FishjamNotifier-35"><a href="#FishjamNotifier-35"><span class="linenos"> 35</span></a><span class="k">class</span><span class="w"> </span><span class="nc">FishjamNotifier</span><span class="p">:</span>
</span><span id="FishjamNotifier-36"><a href="#FishjamNotifier-36"><span class="linenos"> 36</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FishjamNotifier-37"><a href="#FishjamNotifier-37"><span class="linenos"> 37</span></a><span class="sd">    Allows for receiving WebSocket messages from Fishjam.</span>
</span><span id="FishjamNotifier-38"><a href="#FishjamNotifier-38"><span class="linenos"> 38</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="FishjamNotifier-39"><a href="#FishjamNotifier-39"><span class="linenos"> 39</span></a>
</span><span id="FishjamNotifier-40"><a href="#FishjamNotifier-40"><span class="linenos"> 40</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="FishjamNotifier-41"><a href="#FishjamNotifier-41"><span class="linenos"> 41</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="FishjamNotifier-42"><a href="#FishjamNotifier-42"><span class="linenos"> 42</span></a>        <span class="n">fishjam_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="FishjamNotifier-43"><a href="#FishjamNotifier-43"><span class="linenos"> 43</span></a>        <span class="n">management_token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="FishjamNotifier-44"><a href="#FishjamNotifier-44"><span class="linenos"> 44</span></a>    <span class="p">):</span>
</span><span id="FishjamNotifier-45"><a href="#FishjamNotifier-45"><span class="linenos"> 45</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FishjamNotifier-46"><a href="#FishjamNotifier-46"><span class="linenos"> 46</span></a><span class="sd">        Create FishjamNotifier instance, providing the fishjam id and management token.</span>
</span><span id="FishjamNotifier-47"><a href="#FishjamNotifier-47"><span class="linenos"> 47</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FishjamNotifier-48"><a href="#FishjamNotifier-48"><span class="linenos"> 48</span></a>
</span><span id="FishjamNotifier-49"><a href="#FishjamNotifier-49"><span class="linenos"> 49</span></a>        <span class="n">websocket_url</span> <span class="o">=</span> <span class="n">get_fishjam_url</span><span class="p">(</span><span class="n">fishjam_id</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">,</span> <span class="s2">&quot;ws&quot;</span><span class="p">)</span>
</span><span id="FishjamNotifier-50"><a href="#FishjamNotifier-50"><span class="linenos"> 50</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_fishjam_url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">websocket_url</span><span class="si">}</span><span class="s2">/socket/server/websocket&quot;</span>
</span><span id="FishjamNotifier-51"><a href="#FishjamNotifier-51"><span class="linenos"> 51</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_management_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">management_token</span>
</span><span id="FishjamNotifier-52"><a href="#FishjamNotifier-52"><span class="linenos"> 52</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_websocket</span><span class="p">:</span> <span class="n">client</span><span class="o">.</span><span class="n">ClientConnection</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="FishjamNotifier-53"><a href="#FishjamNotifier-53"><span class="linenos"> 53</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_ready</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="FishjamNotifier-54"><a href="#FishjamNotifier-54"><span class="linenos"> 54</span></a>
</span><span id="FishjamNotifier-55"><a href="#FishjamNotifier-55"><span class="linenos"> 55</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_ready_event</span><span class="p">:</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Event</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="FishjamNotifier-56"><a href="#FishjamNotifier-56"><span class="linenos"> 56</span></a>
</span><span id="FishjamNotifier-57"><a href="#FishjamNotifier-57"><span class="linenos"> 57</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_notification_handler</span><span class="p">:</span> <span class="n">NotificationHandler</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="FishjamNotifier-58"><a href="#FishjamNotifier-58"><span class="linenos"> 58</span></a>
</span><span id="FishjamNotifier-59"><a href="#FishjamNotifier-59"><span class="linenos"> 59</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">on_server_notification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">handler</span><span class="p">:</span> <span class="n">NotificationHandler</span><span class="p">):</span>
</span><span id="FishjamNotifier-60"><a href="#FishjamNotifier-60"><span class="linenos"> 60</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FishjamNotifier-61"><a href="#FishjamNotifier-61"><span class="linenos"> 61</span></a><span class="sd">        Decorator used for defining handler for Fishjam Notifications</span>
</span><span id="FishjamNotifier-62"><a href="#FishjamNotifier-62"><span class="linenos"> 62</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FishjamNotifier-63"><a href="#FishjamNotifier-63"><span class="linenos"> 63</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_notification_handler</span> <span class="o">=</span> <span class="n">handler</span>
</span><span id="FishjamNotifier-64"><a href="#FishjamNotifier-64"><span class="linenos"> 64</span></a>        <span class="k">return</span> <span class="n">handler</span>
</span><span id="FishjamNotifier-65"><a href="#FishjamNotifier-65"><span class="linenos"> 65</span></a>
</span><span id="FishjamNotifier-66"><a href="#FishjamNotifier-66"><span class="linenos"> 66</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="FishjamNotifier-67"><a href="#FishjamNotifier-67"><span class="linenos"> 67</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FishjamNotifier-68"><a href="#FishjamNotifier-68"><span class="linenos"> 68</span></a><span class="sd">        A coroutine which connects FishjamNotifier to Fishjam and listens for</span>
</span><span id="FishjamNotifier-69"><a href="#FishjamNotifier-69"><span class="linenos"> 69</span></a><span class="sd">        all incoming messages from the Fishjam.</span>
</span><span id="FishjamNotifier-70"><a href="#FishjamNotifier-70"><span class="linenos"> 70</span></a>
</span><span id="FishjamNotifier-71"><a href="#FishjamNotifier-71"><span class="linenos"> 71</span></a><span class="sd">        It runs until the connection isn&#39;t closed.</span>
</span><span id="FishjamNotifier-72"><a href="#FishjamNotifier-72"><span class="linenos"> 72</span></a>
</span><span id="FishjamNotifier-73"><a href="#FishjamNotifier-73"><span class="linenos"> 73</span></a><span class="sd">        The incoming messages are handled by the functions defined using the</span>
</span><span id="FishjamNotifier-74"><a href="#FishjamNotifier-74"><span class="linenos"> 74</span></a><span class="sd">        `on_server_notification` decorator.</span>
</span><span id="FishjamNotifier-75"><a href="#FishjamNotifier-75"><span class="linenos"> 75</span></a>
</span><span id="FishjamNotifier-76"><a href="#FishjamNotifier-76"><span class="linenos"> 76</span></a><span class="sd">        The handler have to be defined before calling `connect`,</span>
</span><span id="FishjamNotifier-77"><a href="#FishjamNotifier-77"><span class="linenos"> 77</span></a><span class="sd">        otherwise the messages won&#39;t be received.</span>
</span><span id="FishjamNotifier-78"><a href="#FishjamNotifier-78"><span class="linenos"> 78</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FishjamNotifier-79"><a href="#FishjamNotifier-79"><span class="linenos"> 79</span></a>        <span class="k">async</span> <span class="k">with</span> <span class="n">client</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_fishjam_url</span><span class="p">)</span> <span class="k">as</span> <span class="n">websocket</span><span class="p">:</span>
</span><span id="FishjamNotifier-80"><a href="#FishjamNotifier-80"><span class="linenos"> 80</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="FishjamNotifier-81"><a href="#FishjamNotifier-81"><span class="linenos"> 81</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_websocket</span> <span class="o">=</span> <span class="n">websocket</span>
</span><span id="FishjamNotifier-82"><a href="#FishjamNotifier-82"><span class="linenos"> 82</span></a>                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_authenticate</span><span class="p">()</span>
</span><span id="FishjamNotifier-83"><a href="#FishjamNotifier-83"><span class="linenos"> 83</span></a>
</span><span id="FishjamNotifier-84"><a href="#FishjamNotifier-84"><span class="linenos"> 84</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_notification_handler</span><span class="p">:</span>
</span><span id="FishjamNotifier-85"><a href="#FishjamNotifier-85"><span class="linenos"> 85</span></a>                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subscribe_event</span><span class="p">(</span>
</span><span id="FishjamNotifier-86"><a href="#FishjamNotifier-86"><span class="linenos"> 86</span></a>                        <span class="n">event</span><span class="o">=</span><span class="n">ServerMessageEventType</span><span class="o">.</span><span class="n">EVENT_TYPE_SERVER_NOTIFICATION</span>
</span><span id="FishjamNotifier-87"><a href="#FishjamNotifier-87"><span class="linenos"> 87</span></a>                    <span class="p">)</span>
</span><span id="FishjamNotifier-88"><a href="#FishjamNotifier-88"><span class="linenos"> 88</span></a>
</span><span id="FishjamNotifier-89"><a href="#FishjamNotifier-89"><span class="linenos"> 89</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_ready</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="FishjamNotifier-90"><a href="#FishjamNotifier-90"><span class="linenos"> 90</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ready_event</span><span class="p">:</span>
</span><span id="FishjamNotifier-91"><a href="#FishjamNotifier-91"><span class="linenos"> 91</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_ready_event</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
</span><span id="FishjamNotifier-92"><a href="#FishjamNotifier-92"><span class="linenos"> 92</span></a>
</span><span id="FishjamNotifier-93"><a href="#FishjamNotifier-93"><span class="linenos"> 93</span></a>                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_receive_loop</span><span class="p">()</span>
</span><span id="FishjamNotifier-94"><a href="#FishjamNotifier-94"><span class="linenos"> 94</span></a>            <span class="k">finally</span><span class="p">:</span>
</span><span id="FishjamNotifier-95"><a href="#FishjamNotifier-95"><span class="linenos"> 95</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_websocket</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="FishjamNotifier-96"><a href="#FishjamNotifier-96"><span class="linenos"> 96</span></a>
</span><span id="FishjamNotifier-97"><a href="#FishjamNotifier-97"><span class="linenos"> 97</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">wait_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FishjamNotifier-98"><a href="#FishjamNotifier-98"><span class="linenos"> 98</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FishjamNotifier-99"><a href="#FishjamNotifier-99"><span class="linenos"> 99</span></a><span class="sd">        Waits until the notifier is connected and authenticated to Fishjam.</span>
</span><span id="FishjamNotifier-100"><a href="#FishjamNotifier-100"><span class="linenos">100</span></a>
</span><span id="FishjamNotifier-101"><a href="#FishjamNotifier-101"><span class="linenos">101</span></a><span class="sd">        If already connected, returns immediately.</span>
</span><span id="FishjamNotifier-102"><a href="#FishjamNotifier-102"><span class="linenos">102</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FishjamNotifier-103"><a href="#FishjamNotifier-103"><span class="linenos">103</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ready</span><span class="p">:</span>
</span><span id="FishjamNotifier-104"><a href="#FishjamNotifier-104"><span class="linenos">104</span></a>            <span class="k">return</span>
</span><span id="FishjamNotifier-105"><a href="#FishjamNotifier-105"><span class="linenos">105</span></a>
</span><span id="FishjamNotifier-106"><a href="#FishjamNotifier-106"><span class="linenos">106</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ready_event</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FishjamNotifier-107"><a href="#FishjamNotifier-107"><span class="linenos">107</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_ready_event</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
</span><span id="FishjamNotifier-108"><a href="#FishjamNotifier-108"><span class="linenos">108</span></a>
</span><span id="FishjamNotifier-109"><a href="#FishjamNotifier-109"><span class="linenos">109</span></a>        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ready_event</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
</span><span id="FishjamNotifier-110"><a href="#FishjamNotifier-110"><span class="linenos">110</span></a>
</span><span id="FishjamNotifier-111"><a href="#FishjamNotifier-111"><span class="linenos">111</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_authenticate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="FishjamNotifier-112"><a href="#FishjamNotifier-112"><span class="linenos">112</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_websocket</span><span class="p">:</span>
</span><span id="FishjamNotifier-113"><a href="#FishjamNotifier-113"><span class="linenos">113</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Websocket is not connected&quot;</span><span class="p">)</span>
</span><span id="FishjamNotifier-114"><a href="#FishjamNotifier-114"><span class="linenos">114</span></a>
</span><span id="FishjamNotifier-115"><a href="#FishjamNotifier-115"><span class="linenos">115</span></a>        <span class="n">msg</span> <span class="o">=</span> <span class="n">ServerMessage</span><span class="p">(</span>
</span><span id="FishjamNotifier-116"><a href="#FishjamNotifier-116"><span class="linenos">116</span></a>            <span class="n">auth_request</span><span class="o">=</span><span class="n">ServerMessageAuthRequest</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_management_token</span><span class="p">)</span>
</span><span id="FishjamNotifier-117"><a href="#FishjamNotifier-117"><span class="linenos">117</span></a>        <span class="p">)</span>
</span><span id="FishjamNotifier-118"><a href="#FishjamNotifier-118"><span class="linenos">118</span></a>        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_websocket</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">msg</span><span class="p">))</span>
</span><span id="FishjamNotifier-119"><a href="#FishjamNotifier-119"><span class="linenos">119</span></a>
</span><span id="FishjamNotifier-120"><a href="#FishjamNotifier-120"><span class="linenos">120</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="FishjamNotifier-121"><a href="#FishjamNotifier-121"><span class="linenos">121</span></a>            <span class="n">message</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_websocket</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="n">decode</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="FishjamNotifier-122"><a href="#FishjamNotifier-122"><span class="linenos">122</span></a>        <span class="k">except</span> <span class="n">ConnectionClosed</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
</span><span id="FishjamNotifier-123"><a href="#FishjamNotifier-123"><span class="linenos">123</span></a>            <span class="k">if</span> <span class="s2">&quot;invalid token&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">exception</span><span class="p">):</span>
</span><span id="FishjamNotifier-124"><a href="#FishjamNotifier-124"><span class="linenos">124</span></a>                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Invalid management token&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">exception</span>
</span><span id="FishjamNotifier-125"><a href="#FishjamNotifier-125"><span class="linenos">125</span></a>            <span class="k">raise</span>
</span><span id="FishjamNotifier-126"><a href="#FishjamNotifier-126"><span class="linenos">126</span></a>
</span><span id="FishjamNotifier-127"><a href="#FishjamNotifier-127"><span class="linenos">127</span></a>        <span class="n">message</span> <span class="o">=</span> <span class="n">ServerMessage</span><span class="p">()</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</span><span id="FishjamNotifier-128"><a href="#FishjamNotifier-128"><span class="linenos">128</span></a>
</span><span id="FishjamNotifier-129"><a href="#FishjamNotifier-129"><span class="linenos">129</span></a>        <span class="n">_type</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">which_one_of</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">)</span>
</span><span id="FishjamNotifier-130"><a href="#FishjamNotifier-130"><span class="linenos">130</span></a>        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">ServerMessageAuthenticated</span><span class="p">)</span>
</span><span id="FishjamNotifier-131"><a href="#FishjamNotifier-131"><span class="linenos">131</span></a>
</span><span id="FishjamNotifier-132"><a href="#FishjamNotifier-132"><span class="linenos">132</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_receive_loop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="FishjamNotifier-133"><a href="#FishjamNotifier-133"><span class="linenos">133</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_websocket</span><span class="p">:</span>
</span><span id="FishjamNotifier-134"><a href="#FishjamNotifier-134"><span class="linenos">134</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Websocket is not connected&quot;</span><span class="p">)</span>
</span><span id="FishjamNotifier-135"><a href="#FishjamNotifier-135"><span class="linenos">135</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_notification_handler</span><span class="p">:</span>
</span><span id="FishjamNotifier-136"><a href="#FishjamNotifier-136"><span class="linenos">136</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Notification handler is not defined&quot;</span><span class="p">)</span>
</span><span id="FishjamNotifier-137"><a href="#FishjamNotifier-137"><span class="linenos">137</span></a>
</span><span id="FishjamNotifier-138"><a href="#FishjamNotifier-138"><span class="linenos">138</span></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="FishjamNotifier-139"><a href="#FishjamNotifier-139"><span class="linenos">139</span></a>            <span class="n">message</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">bytes</span><span class="p">,</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_websocket</span><span class="o">.</span><span class="n">recv</span><span class="p">())</span>
</span><span id="FishjamNotifier-140"><a href="#FishjamNotifier-140"><span class="linenos">140</span></a>            <span class="n">message</span> <span class="o">=</span> <span class="n">ServerMessage</span><span class="p">()</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</span><span id="FishjamNotifier-141"><a href="#FishjamNotifier-141"><span class="linenos">141</span></a>            <span class="n">_which</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">which_one_of</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">)</span>
</span><span id="FishjamNotifier-142"><a href="#FishjamNotifier-142"><span class="linenos">142</span></a>
</span><span id="FishjamNotifier-143"><a href="#FishjamNotifier-143"><span class="linenos">143</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">ALLOWED_NOTIFICATIONS</span><span class="p">):</span>
</span><span id="FishjamNotifier-144"><a href="#FishjamNotifier-144"><span class="linenos">144</span></a>                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_notification_handler</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</span><span id="FishjamNotifier-145"><a href="#FishjamNotifier-145"><span class="linenos">145</span></a>                <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isawaitable</span><span class="p">(</span><span class="n">res</span><span class="p">):</span>
</span><span id="FishjamNotifier-146"><a href="#FishjamNotifier-146"><span class="linenos">146</span></a>                    <span class="k">await</span> <span class="n">res</span>
</span><span id="FishjamNotifier-147"><a href="#FishjamNotifier-147"><span class="linenos">147</span></a>
</span><span id="FishjamNotifier-148"><a href="#FishjamNotifier-148"><span class="linenos">148</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_subscribe_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">ServerMessageEventType</span><span class="p">):</span>
</span><span id="FishjamNotifier-149"><a href="#FishjamNotifier-149"><span class="linenos">149</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_websocket</span><span class="p">:</span>
</span><span id="FishjamNotifier-150"><a href="#FishjamNotifier-150"><span class="linenos">150</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Websocket is not connected&quot;</span><span class="p">)</span>
</span><span id="FishjamNotifier-151"><a href="#FishjamNotifier-151"><span class="linenos">151</span></a>
</span><span id="FishjamNotifier-152"><a href="#FishjamNotifier-152"><span class="linenos">152</span></a>        <span class="n">request</span> <span class="o">=</span> <span class="n">ServerMessage</span><span class="p">(</span><span class="n">subscribe_request</span><span class="o">=</span><span class="n">ServerMessageSubscribeRequest</span><span class="p">(</span><span class="n">event</span><span class="p">))</span>
</span><span id="FishjamNotifier-153"><a href="#FishjamNotifier-153"><span class="linenos">153</span></a>
</span><span id="FishjamNotifier-154"><a href="#FishjamNotifier-154"><span class="linenos">154</span></a>        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_websocket</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">request</span><span class="p">))</span>
</span><span id="FishjamNotifier-155"><a href="#FishjamNotifier-155"><span class="linenos">155</span></a>        <span class="n">message</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">bytes</span><span class="p">,</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_websocket</span><span class="o">.</span><span class="n">recv</span><span class="p">())</span>
</span><span id="FishjamNotifier-156"><a href="#FishjamNotifier-156"><span class="linenos">156</span></a>        <span class="n">message</span> <span class="o">=</span> <span class="n">ServerMessage</span><span class="p">()</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</span><span id="FishjamNotifier-157"><a href="#FishjamNotifier-157"><span class="linenos">157</span></a>        <span class="n">_which</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">which_one_of</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">)</span>
</span><span id="FishjamNotifier-158"><a href="#FishjamNotifier-158"><span class="linenos">158</span></a>        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">ServerMessageSubscribeResponse</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Allows for receiving WebSocket messages from Fishjam.</p>
</div>


                            <div id="FishjamNotifier.__init__" class="classattr">
                                        <input id="FishjamNotifier.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="name">FishjamNotifier</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">fishjam_id</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">management_token</span><span class="p">:</span> <span class="nb">str</span></span>)</span>

                <label class="view-source-button" for="FishjamNotifier.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FishjamNotifier.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FishjamNotifier.__init__-40"><a href="#FishjamNotifier.__init__-40"><span class="linenos">40</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="FishjamNotifier.__init__-41"><a href="#FishjamNotifier.__init__-41"><span class="linenos">41</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="FishjamNotifier.__init__-42"><a href="#FishjamNotifier.__init__-42"><span class="linenos">42</span></a>        <span class="n">fishjam_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="FishjamNotifier.__init__-43"><a href="#FishjamNotifier.__init__-43"><span class="linenos">43</span></a>        <span class="n">management_token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="FishjamNotifier.__init__-44"><a href="#FishjamNotifier.__init__-44"><span class="linenos">44</span></a>    <span class="p">):</span>
</span><span id="FishjamNotifier.__init__-45"><a href="#FishjamNotifier.__init__-45"><span class="linenos">45</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FishjamNotifier.__init__-46"><a href="#FishjamNotifier.__init__-46"><span class="linenos">46</span></a><span class="sd">        Create FishjamNotifier instance, providing the fishjam id and management token.</span>
</span><span id="FishjamNotifier.__init__-47"><a href="#FishjamNotifier.__init__-47"><span class="linenos">47</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FishjamNotifier.__init__-48"><a href="#FishjamNotifier.__init__-48"><span class="linenos">48</span></a>
</span><span id="FishjamNotifier.__init__-49"><a href="#FishjamNotifier.__init__-49"><span class="linenos">49</span></a>        <span class="n">websocket_url</span> <span class="o">=</span> <span class="n">get_fishjam_url</span><span class="p">(</span><span class="n">fishjam_id</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">,</span> <span class="s2">&quot;ws&quot;</span><span class="p">)</span>
</span><span id="FishjamNotifier.__init__-50"><a href="#FishjamNotifier.__init__-50"><span class="linenos">50</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_fishjam_url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">websocket_url</span><span class="si">}</span><span class="s2">/socket/server/websocket&quot;</span>
</span><span id="FishjamNotifier.__init__-51"><a href="#FishjamNotifier.__init__-51"><span class="linenos">51</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_management_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">management_token</span>
</span><span id="FishjamNotifier.__init__-52"><a href="#FishjamNotifier.__init__-52"><span class="linenos">52</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_websocket</span><span class="p">:</span> <span class="n">client</span><span class="o">.</span><span class="n">ClientConnection</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="FishjamNotifier.__init__-53"><a href="#FishjamNotifier.__init__-53"><span class="linenos">53</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_ready</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="FishjamNotifier.__init__-54"><a href="#FishjamNotifier.__init__-54"><span class="linenos">54</span></a>
</span><span id="FishjamNotifier.__init__-55"><a href="#FishjamNotifier.__init__-55"><span class="linenos">55</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_ready_event</span><span class="p">:</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Event</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="FishjamNotifier.__init__-56"><a href="#FishjamNotifier.__init__-56"><span class="linenos">56</span></a>
</span><span id="FishjamNotifier.__init__-57"><a href="#FishjamNotifier.__init__-57"><span class="linenos">57</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_notification_handler</span><span class="p">:</span> <span class="n">NotificationHandler</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Create FishjamNotifier instance, providing the fishjam id and management token.</p>
</div>


                            </div>
                            <div id="FishjamNotifier.on_server_notification" class="classattr">
                                        <input id="FishjamNotifier.on_server_notification-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">on_server_notification</span><span class="signature pdoc-code multiline">(<span class="param">   <span class="bp">self</span>,</span><span class="param">    <span class="n">handler</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">Union</span><span class="p">[</span><span class="n"><a href="fishjam/events.html#ServerMessageRoomCreated">fishjam.events.ServerMessageRoomCreated</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageRoomDeleted">fishjam.events.ServerMessageRoomDeleted</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageRoomCrashed">fishjam.events.ServerMessageRoomCrashed</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessagePeerAdded">fishjam.events.ServerMessagePeerAdded</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessagePeerDeleted">fishjam.events.ServerMessagePeerDeleted</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessagePeerConnected">fishjam.events.ServerMessagePeerConnected</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessagePeerDisconnected">fishjam.events.ServerMessagePeerDisconnected</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessagePeerMetadataUpdated">fishjam.events.ServerMessagePeerMetadataUpdated</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessagePeerCrashed">fishjam.events.ServerMessagePeerCrashed</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageStreamConnected">fishjam.events.ServerMessageStreamConnected</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageStreamDisconnected">fishjam.events.ServerMessageStreamDisconnected</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageViewerConnected">fishjam.events.ServerMessageViewerConnected</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageViewerDisconnected">fishjam.events.ServerMessageViewerDisconnected</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageTrackAdded">fishjam.events.ServerMessageTrackAdded</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageTrackRemoved">fishjam.events.ServerMessageTrackRemoved</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageTrackMetadataUpdated">fishjam.events.ServerMessageTrackMetadataUpdated</a></span><span class="p">]],</span> <span class="n">NoneType</span><span class="p">],</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Union</span><span class="p">[</span><span class="n"><a href="fishjam/events.html#ServerMessageRoomCreated">fishjam.events.ServerMessageRoomCreated</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageRoomDeleted">fishjam.events.ServerMessageRoomDeleted</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageRoomCrashed">fishjam.events.ServerMessageRoomCrashed</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessagePeerAdded">fishjam.events.ServerMessagePeerAdded</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessagePeerDeleted">fishjam.events.ServerMessagePeerDeleted</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessagePeerConnected">fishjam.events.ServerMessagePeerConnected</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessagePeerDisconnected">fishjam.events.ServerMessagePeerDisconnected</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessagePeerMetadataUpdated">fishjam.events.ServerMessagePeerMetadataUpdated</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessagePeerCrashed">fishjam.events.ServerMessagePeerCrashed</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageStreamConnected">fishjam.events.ServerMessageStreamConnected</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageStreamDisconnected">fishjam.events.ServerMessageStreamDisconnected</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageViewerConnected">fishjam.events.ServerMessageViewerConnected</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageViewerDisconnected">fishjam.events.ServerMessageViewerDisconnected</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageTrackAdded">fishjam.events.ServerMessageTrackAdded</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageTrackRemoved">fishjam.events.ServerMessageTrackRemoved</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageTrackMetadataUpdated">fishjam.events.ServerMessageTrackMetadataUpdated</a></span><span class="p">]],</span> <span class="n">Coroutine</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]]</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="FishjamNotifier.on_server_notification-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FishjamNotifier.on_server_notification"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FishjamNotifier.on_server_notification-59"><a href="#FishjamNotifier.on_server_notification-59"><span class="linenos">59</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">on_server_notification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">handler</span><span class="p">:</span> <span class="n">NotificationHandler</span><span class="p">):</span>
</span><span id="FishjamNotifier.on_server_notification-60"><a href="#FishjamNotifier.on_server_notification-60"><span class="linenos">60</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FishjamNotifier.on_server_notification-61"><a href="#FishjamNotifier.on_server_notification-61"><span class="linenos">61</span></a><span class="sd">        Decorator used for defining handler for Fishjam Notifications</span>
</span><span id="FishjamNotifier.on_server_notification-62"><a href="#FishjamNotifier.on_server_notification-62"><span class="linenos">62</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FishjamNotifier.on_server_notification-63"><a href="#FishjamNotifier.on_server_notification-63"><span class="linenos">63</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_notification_handler</span> <span class="o">=</span> <span class="n">handler</span>
</span><span id="FishjamNotifier.on_server_notification-64"><a href="#FishjamNotifier.on_server_notification-64"><span class="linenos">64</span></a>        <span class="k">return</span> <span class="n">handler</span>
</span></pre></div>


            <div class="docstring"><p>Decorator used for defining handler for Fishjam Notifications</p>
</div>


                            </div>
                            <div id="FishjamNotifier.connect" class="classattr">
                                        <input id="FishjamNotifier.connect-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">async def</span>
        <span class="name">connect</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="FishjamNotifier.connect-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FishjamNotifier.connect"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FishjamNotifier.connect-66"><a href="#FishjamNotifier.connect-66"><span class="linenos">66</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="FishjamNotifier.connect-67"><a href="#FishjamNotifier.connect-67"><span class="linenos">67</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FishjamNotifier.connect-68"><a href="#FishjamNotifier.connect-68"><span class="linenos">68</span></a><span class="sd">        A coroutine which connects FishjamNotifier to Fishjam and listens for</span>
</span><span id="FishjamNotifier.connect-69"><a href="#FishjamNotifier.connect-69"><span class="linenos">69</span></a><span class="sd">        all incoming messages from the Fishjam.</span>
</span><span id="FishjamNotifier.connect-70"><a href="#FishjamNotifier.connect-70"><span class="linenos">70</span></a>
</span><span id="FishjamNotifier.connect-71"><a href="#FishjamNotifier.connect-71"><span class="linenos">71</span></a><span class="sd">        It runs until the connection isn&#39;t closed.</span>
</span><span id="FishjamNotifier.connect-72"><a href="#FishjamNotifier.connect-72"><span class="linenos">72</span></a>
</span><span id="FishjamNotifier.connect-73"><a href="#FishjamNotifier.connect-73"><span class="linenos">73</span></a><span class="sd">        The incoming messages are handled by the functions defined using the</span>
</span><span id="FishjamNotifier.connect-74"><a href="#FishjamNotifier.connect-74"><span class="linenos">74</span></a><span class="sd">        `on_server_notification` decorator.</span>
</span><span id="FishjamNotifier.connect-75"><a href="#FishjamNotifier.connect-75"><span class="linenos">75</span></a>
</span><span id="FishjamNotifier.connect-76"><a href="#FishjamNotifier.connect-76"><span class="linenos">76</span></a><span class="sd">        The handler have to be defined before calling `connect`,</span>
</span><span id="FishjamNotifier.connect-77"><a href="#FishjamNotifier.connect-77"><span class="linenos">77</span></a><span class="sd">        otherwise the messages won&#39;t be received.</span>
</span><span id="FishjamNotifier.connect-78"><a href="#FishjamNotifier.connect-78"><span class="linenos">78</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FishjamNotifier.connect-79"><a href="#FishjamNotifier.connect-79"><span class="linenos">79</span></a>        <span class="k">async</span> <span class="k">with</span> <span class="n">client</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_fishjam_url</span><span class="p">)</span> <span class="k">as</span> <span class="n">websocket</span><span class="p">:</span>
</span><span id="FishjamNotifier.connect-80"><a href="#FishjamNotifier.connect-80"><span class="linenos">80</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="FishjamNotifier.connect-81"><a href="#FishjamNotifier.connect-81"><span class="linenos">81</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_websocket</span> <span class="o">=</span> <span class="n">websocket</span>
</span><span id="FishjamNotifier.connect-82"><a href="#FishjamNotifier.connect-82"><span class="linenos">82</span></a>                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_authenticate</span><span class="p">()</span>
</span><span id="FishjamNotifier.connect-83"><a href="#FishjamNotifier.connect-83"><span class="linenos">83</span></a>
</span><span id="FishjamNotifier.connect-84"><a href="#FishjamNotifier.connect-84"><span class="linenos">84</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_notification_handler</span><span class="p">:</span>
</span><span id="FishjamNotifier.connect-85"><a href="#FishjamNotifier.connect-85"><span class="linenos">85</span></a>                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subscribe_event</span><span class="p">(</span>
</span><span id="FishjamNotifier.connect-86"><a href="#FishjamNotifier.connect-86"><span class="linenos">86</span></a>                        <span class="n">event</span><span class="o">=</span><span class="n">ServerMessageEventType</span><span class="o">.</span><span class="n">EVENT_TYPE_SERVER_NOTIFICATION</span>
</span><span id="FishjamNotifier.connect-87"><a href="#FishjamNotifier.connect-87"><span class="linenos">87</span></a>                    <span class="p">)</span>
</span><span id="FishjamNotifier.connect-88"><a href="#FishjamNotifier.connect-88"><span class="linenos">88</span></a>
</span><span id="FishjamNotifier.connect-89"><a href="#FishjamNotifier.connect-89"><span class="linenos">89</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_ready</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="FishjamNotifier.connect-90"><a href="#FishjamNotifier.connect-90"><span class="linenos">90</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ready_event</span><span class="p">:</span>
</span><span id="FishjamNotifier.connect-91"><a href="#FishjamNotifier.connect-91"><span class="linenos">91</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_ready_event</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
</span><span id="FishjamNotifier.connect-92"><a href="#FishjamNotifier.connect-92"><span class="linenos">92</span></a>
</span><span id="FishjamNotifier.connect-93"><a href="#FishjamNotifier.connect-93"><span class="linenos">93</span></a>                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_receive_loop</span><span class="p">()</span>
</span><span id="FishjamNotifier.connect-94"><a href="#FishjamNotifier.connect-94"><span class="linenos">94</span></a>            <span class="k">finally</span><span class="p">:</span>
</span><span id="FishjamNotifier.connect-95"><a href="#FishjamNotifier.connect-95"><span class="linenos">95</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_websocket</span> <span class="o">=</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>A coroutine which connects FishjamNotifier to Fishjam and listens for
all incoming messages from the Fishjam.</p>

<p>It runs until the connection isn't closed.</p>

<p>The incoming messages are handled by the functions defined using the
<code><a href="#FishjamNotifier.on_server_notification">on_server_notification</a></code> decorator.</p>

<p>The handler have to be defined before calling <code><a href="#FishjamNotifier.connect">connect</a></code>,
otherwise the messages won't be received.</p>
</div>


                            </div>
                            <div id="FishjamNotifier.wait_ready" class="classattr">
                                        <input id="FishjamNotifier.wait_ready-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">async def</span>
        <span class="name">wait_ready</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="FishjamNotifier.wait_ready-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FishjamNotifier.wait_ready"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FishjamNotifier.wait_ready-97"><a href="#FishjamNotifier.wait_ready-97"><span class="linenos"> 97</span></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">wait_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FishjamNotifier.wait_ready-98"><a href="#FishjamNotifier.wait_ready-98"><span class="linenos"> 98</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FishjamNotifier.wait_ready-99"><a href="#FishjamNotifier.wait_ready-99"><span class="linenos"> 99</span></a><span class="sd">        Waits until the notifier is connected and authenticated to Fishjam.</span>
</span><span id="FishjamNotifier.wait_ready-100"><a href="#FishjamNotifier.wait_ready-100"><span class="linenos">100</span></a>
</span><span id="FishjamNotifier.wait_ready-101"><a href="#FishjamNotifier.wait_ready-101"><span class="linenos">101</span></a><span class="sd">        If already connected, returns immediately.</span>
</span><span id="FishjamNotifier.wait_ready-102"><a href="#FishjamNotifier.wait_ready-102"><span class="linenos">102</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="FishjamNotifier.wait_ready-103"><a href="#FishjamNotifier.wait_ready-103"><span class="linenos">103</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ready</span><span class="p">:</span>
</span><span id="FishjamNotifier.wait_ready-104"><a href="#FishjamNotifier.wait_ready-104"><span class="linenos">104</span></a>            <span class="k">return</span>
</span><span id="FishjamNotifier.wait_ready-105"><a href="#FishjamNotifier.wait_ready-105"><span class="linenos">105</span></a>
</span><span id="FishjamNotifier.wait_ready-106"><a href="#FishjamNotifier.wait_ready-106"><span class="linenos">106</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ready_event</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FishjamNotifier.wait_ready-107"><a href="#FishjamNotifier.wait_ready-107"><span class="linenos">107</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_ready_event</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
</span><span id="FishjamNotifier.wait_ready-108"><a href="#FishjamNotifier.wait_ready-108"><span class="linenos">108</span></a>
</span><span id="FishjamNotifier.wait_ready-109"><a href="#FishjamNotifier.wait_ready-109"><span class="linenos">109</span></a>        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ready_event</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Waits until the notifier is connected and authenticated to Fishjam.</p>

<p>If already connected, returns immediately.</p>
</div>


                            </div>
                </section>
                <section id="receive_binary">
                            <input id="receive_binary-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">receive_binary</span><span class="signature pdoc-code multiline">(<span class="param">   <span class="n">binary</span><span class="p">:</span> <span class="nb">bytes</span></span><span class="return-annotation">) -> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="fishjam/events.html#ServerMessageRoomCreated">fishjam.events.ServerMessageRoomCreated</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageRoomDeleted">fishjam.events.ServerMessageRoomDeleted</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageRoomCrashed">fishjam.events.ServerMessageRoomCrashed</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessagePeerAdded">fishjam.events.ServerMessagePeerAdded</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessagePeerDeleted">fishjam.events.ServerMessagePeerDeleted</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessagePeerConnected">fishjam.events.ServerMessagePeerConnected</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessagePeerDisconnected">fishjam.events.ServerMessagePeerDisconnected</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessagePeerMetadataUpdated">fishjam.events.ServerMessagePeerMetadataUpdated</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessagePeerCrashed">fishjam.events.ServerMessagePeerCrashed</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageStreamConnected">fishjam.events.ServerMessageStreamConnected</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageStreamDisconnected">fishjam.events.ServerMessageStreamDisconnected</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageViewerConnected">fishjam.events.ServerMessageViewerConnected</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageViewerDisconnected">fishjam.events.ServerMessageViewerDisconnected</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageTrackAdded">fishjam.events.ServerMessageTrackAdded</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageTrackRemoved">fishjam.events.ServerMessageTrackRemoved</a></span><span class="p">,</span> <span class="n"><a href="fishjam/events.html#ServerMessageTrackMetadataUpdated">fishjam.events.ServerMessageTrackMetadataUpdated</a></span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="receive_binary-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#receive_binary"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="receive_binary-18"><a href="#receive_binary-18"><span class="linenos">18</span></a><span class="k">def</span><span class="w"> </span><span class="nf">receive_binary</span><span class="p">(</span><span class="n">binary</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">AllowedNotification</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
</span><span id="receive_binary-19"><a href="#receive_binary-19"><span class="linenos">19</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="receive_binary-20"><a href="#receive_binary-20"><span class="linenos">20</span></a><span class="sd">    Transform received protobuf notification to adequate notification instance.</span>
</span><span id="receive_binary-21"><a href="#receive_binary-21"><span class="linenos">21</span></a><span class="sd">    The available notifications are listed in `fishjam.events` module.</span>
</span><span id="receive_binary-22"><a href="#receive_binary-22"><span class="linenos">22</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="receive_binary-23"><a href="#receive_binary-23"><span class="linenos">23</span></a>    <span class="n">message</span> <span class="o">=</span> <span class="n">ServerMessage</span><span class="p">()</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">binary</span><span class="p">)</span>
</span><span id="receive_binary-24"><a href="#receive_binary-24"><span class="linenos">24</span></a>    <span class="n">_which</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">which_one_of</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">)</span>
</span><span id="receive_binary-25"><a href="#receive_binary-25"><span class="linenos">25</span></a>
</span><span id="receive_binary-26"><a href="#receive_binary-26"><span class="linenos">26</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">ALLOWED_NOTIFICATIONS</span><span class="p">):</span>
</span><span id="receive_binary-27"><a href="#receive_binary-27"><span class="linenos">27</span></a>        <span class="k">return</span> <span class="n">message</span>
</span><span id="receive_binary-28"><a href="#receive_binary-28"><span class="linenos">28</span></a>
</span><span id="receive_binary-29"><a href="#receive_binary-29"><span class="linenos">29</span></a>    <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Transform received protobuf notification to adequate notification instance.
The available notifications are listed in <code><a href="fishjam/events.html">fishjam.events</a></code> module.</p>
</div>


                </section>
                <section id="PeerMetadata">
                            <input id="PeerMetadata-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">

    <span class="def">class</span>
    <span class="name">PeerMetadata</span>:

                <label class="view-source-button" for="PeerMetadata-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PeerMetadata"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PeerMetadata-11"><a href="#PeerMetadata-11"><span class="linenos">11</span></a><span class="nd">@_attrs_define</span>
</span><span id="PeerMetadata-12"><a href="#PeerMetadata-12"><span class="linenos">12</span></a><span class="k">class</span><span class="w"> </span><span class="nc">PeerMetadata</span><span class="p">:</span>
</span><span id="PeerMetadata-13"><a href="#PeerMetadata-13"><span class="linenos">13</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Custom metadata set by the peer</span>
</span><span id="PeerMetadata-14"><a href="#PeerMetadata-14"><span class="linenos">14</span></a>
</span><span id="PeerMetadata-15"><a href="#PeerMetadata-15"><span class="linenos">15</span></a><span class="sd">    Example:</span>
</span><span id="PeerMetadata-16"><a href="#PeerMetadata-16"><span class="linenos">16</span></a><span class="sd">        {&#39;name&#39;: &#39;FishjamUser&#39;}</span>
</span><span id="PeerMetadata-17"><a href="#PeerMetadata-17"><span class="linenos">17</span></a>
</span><span id="PeerMetadata-18"><a href="#PeerMetadata-18"><span class="linenos">18</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="PeerMetadata-19"><a href="#PeerMetadata-19"><span class="linenos">19</span></a>
</span><span id="PeerMetadata-20"><a href="#PeerMetadata-20"><span class="linenos">20</span></a>    <span class="n">additional_properties</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">_attrs_field</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
</span><span id="PeerMetadata-21"><a href="#PeerMetadata-21"><span class="linenos">21</span></a>
</span><span id="PeerMetadata-22"><a href="#PeerMetadata-22"><span class="linenos">22</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="PeerMetadata-23"><a href="#PeerMetadata-23"><span class="linenos">23</span></a>        <span class="n">field_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="PeerMetadata-24"><a href="#PeerMetadata-24"><span class="linenos">24</span></a>        <span class="n">field_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">additional_properties</span><span class="p">)</span>
</span><span id="PeerMetadata-25"><a href="#PeerMetadata-25"><span class="linenos">25</span></a>
</span><span id="PeerMetadata-26"><a href="#PeerMetadata-26"><span class="linenos">26</span></a>        <span class="k">return</span> <span class="n">field_dict</span>
</span><span id="PeerMetadata-27"><a href="#PeerMetadata-27"><span class="linenos">27</span></a>
</span><span id="PeerMetadata-28"><a href="#PeerMetadata-28"><span class="linenos">28</span></a>    <span class="nd">@classmethod</span>
</span><span id="PeerMetadata-29"><a href="#PeerMetadata-29"><span class="linenos">29</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">src_dict</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="PeerMetadata-30"><a href="#PeerMetadata-30"><span class="linenos">30</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">src_dict</span><span class="p">)</span>
</span><span id="PeerMetadata-31"><a href="#PeerMetadata-31"><span class="linenos">31</span></a>        <span class="n">peer_metadata</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
</span><span id="PeerMetadata-32"><a href="#PeerMetadata-32"><span class="linenos">32</span></a>
</span><span id="PeerMetadata-33"><a href="#PeerMetadata-33"><span class="linenos">33</span></a>        <span class="n">peer_metadata</span><span class="o">.</span><span class="n">additional_properties</span> <span class="o">=</span> <span class="n">d</span>
</span><span id="PeerMetadata-34"><a href="#PeerMetadata-34"><span class="linenos">34</span></a>        <span class="k">return</span> <span class="n">peer_metadata</span>
</span><span id="PeerMetadata-35"><a href="#PeerMetadata-35"><span class="linenos">35</span></a>
</span><span id="PeerMetadata-36"><a href="#PeerMetadata-36"><span class="linenos">36</span></a>    <span class="nd">@property</span>
</span><span id="PeerMetadata-37"><a href="#PeerMetadata-37"><span class="linenos">37</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">additional_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="PeerMetadata-38"><a href="#PeerMetadata-38"><span class="linenos">38</span></a>        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">additional_properties</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</span><span id="PeerMetadata-39"><a href="#PeerMetadata-39"><span class="linenos">39</span></a>
</span><span id="PeerMetadata-40"><a href="#PeerMetadata-40"><span class="linenos">40</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
</span><span id="PeerMetadata-41"><a href="#PeerMetadata-41"><span class="linenos">41</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="PeerMetadata-42"><a href="#PeerMetadata-42"><span class="linenos">42</span></a>
</span><span id="PeerMetadata-43"><a href="#PeerMetadata-43"><span class="linenos">43</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="PeerMetadata-44"><a href="#PeerMetadata-44"><span class="linenos">44</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="PeerMetadata-45"><a href="#PeerMetadata-45"><span class="linenos">45</span></a>
</span><span id="PeerMetadata-46"><a href="#PeerMetadata-46"><span class="linenos">46</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__delitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="PeerMetadata-47"><a href="#PeerMetadata-47"><span class="linenos">47</span></a>        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="PeerMetadata-48"><a href="#PeerMetadata-48"><span class="linenos">48</span></a>
</span><span id="PeerMetadata-49"><a href="#PeerMetadata-49"><span class="linenos">49</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="PeerMetadata-50"><a href="#PeerMetadata-50"><span class="linenos">50</span></a>        <span class="k">return</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties</span>
</span></pre></div>


            <div class="docstring"><p>Custom metadata set by the peer</p>

<p>Example:
    {'name': 'FishjamUser'}</p>
</div>


                            <div id="PeerMetadata.__init__" class="classattr">
                                        <input id="PeerMetadata.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="name">PeerMetadata</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="PeerMetadata.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PeerMetadata.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PeerMetadata.__init__-2"><a href="#PeerMetadata.__init__-2"><span class="linenos">2</span></a><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="p">):</span>
</span><span id="PeerMetadata.__init__-3"><a href="#PeerMetadata.__init__-3"><span class="linenos">3</span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties</span> <span class="o">=</span> <span class="n">__attr_factory_additional_properties</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Method generated by attrs for class PeerMetadata.</p>
</div>


                            </div>
                            <div id="PeerMetadata.additional_properties" class="classattr">
                                <div class="attr variable">
            <span class="name">additional_properties</span><span class="annotation">: dict[str, typing.Any]</span>


    </div>
    <a class="headerlink" href="#PeerMetadata.additional_properties"></a>



                            </div>
                            <div id="PeerMetadata.to_dict" class="classattr">
                                        <input id="PeerMetadata.to_dict-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">to_dict</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="PeerMetadata.to_dict-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PeerMetadata.to_dict"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PeerMetadata.to_dict-22"><a href="#PeerMetadata.to_dict-22"><span class="linenos">22</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="PeerMetadata.to_dict-23"><a href="#PeerMetadata.to_dict-23"><span class="linenos">23</span></a>        <span class="n">field_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="PeerMetadata.to_dict-24"><a href="#PeerMetadata.to_dict-24"><span class="linenos">24</span></a>        <span class="n">field_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">additional_properties</span><span class="p">)</span>
</span><span id="PeerMetadata.to_dict-25"><a href="#PeerMetadata.to_dict-25"><span class="linenos">25</span></a>
</span><span id="PeerMetadata.to_dict-26"><a href="#PeerMetadata.to_dict-26"><span class="linenos">26</span></a>        <span class="k">return</span> <span class="n">field_dict</span>
</span></pre></div>




                            </div>
                            <div id="PeerMetadata.from_dict" class="classattr">
                                        <input id="PeerMetadata.from_dict-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">from_dict</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="o">~</span><span class="n">T</span><span class="p">]</span>, </span><span class="param"><span class="n">src_dict</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="o">~</span><span class="n">T</span>:</span></span>

                <label class="view-source-button" for="PeerMetadata.from_dict-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PeerMetadata.from_dict"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PeerMetadata.from_dict-28"><a href="#PeerMetadata.from_dict-28"><span class="linenos">28</span></a>    <span class="nd">@classmethod</span>
</span><span id="PeerMetadata.from_dict-29"><a href="#PeerMetadata.from_dict-29"><span class="linenos">29</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">src_dict</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="PeerMetadata.from_dict-30"><a href="#PeerMetadata.from_dict-30"><span class="linenos">30</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">src_dict</span><span class="p">)</span>
</span><span id="PeerMetadata.from_dict-31"><a href="#PeerMetadata.from_dict-31"><span class="linenos">31</span></a>        <span class="n">peer_metadata</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
</span><span id="PeerMetadata.from_dict-32"><a href="#PeerMetadata.from_dict-32"><span class="linenos">32</span></a>
</span><span id="PeerMetadata.from_dict-33"><a href="#PeerMetadata.from_dict-33"><span class="linenos">33</span></a>        <span class="n">peer_metadata</span><span class="o">.</span><span class="n">additional_properties</span> <span class="o">=</span> <span class="n">d</span>
</span><span id="PeerMetadata.from_dict-34"><a href="#PeerMetadata.from_dict-34"><span class="linenos">34</span></a>        <span class="k">return</span> <span class="n">peer_metadata</span>
</span></pre></div>




                            </div>
                            <div id="PeerMetadata.additional_keys" class="classattr">
                                        <input id="PeerMetadata.additional_keys-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">additional_keys</span><span class="annotation">: list[str]</span>

                <label class="view-source-button" for="PeerMetadata.additional_keys-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PeerMetadata.additional_keys"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PeerMetadata.additional_keys-36"><a href="#PeerMetadata.additional_keys-36"><span class="linenos">36</span></a>    <span class="nd">@property</span>
</span><span id="PeerMetadata.additional_keys-37"><a href="#PeerMetadata.additional_keys-37"><span class="linenos">37</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">additional_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="PeerMetadata.additional_keys-38"><a href="#PeerMetadata.additional_keys-38"><span class="linenos">38</span></a>        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">additional_properties</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</span></pre></div>




                            </div>
                </section>
                <section id="PeerOptions">
                            <input id="PeerOptions-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator">@dataclass</div>

    <span class="def">class</span>
    <span class="name">PeerOptions</span>:

                <label class="view-source-button" for="PeerOptions-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PeerOptions"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PeerOptions-78"><a href="#PeerOptions-78"><span class="linenos">78</span></a><span class="nd">@dataclass</span>
</span><span id="PeerOptions-79"><a href="#PeerOptions-79"><span class="linenos">79</span></a><span class="k">class</span><span class="w"> </span><span class="nc">PeerOptions</span><span class="p">:</span>
</span><span id="PeerOptions-80"><a href="#PeerOptions-80"><span class="linenos">80</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Options specific to a WebRTC Peer&quot;&quot;&quot;</span>
</span><span id="PeerOptions-81"><a href="#PeerOptions-81"><span class="linenos">81</span></a>
</span><span id="PeerOptions-82"><a href="#PeerOptions-82"><span class="linenos">82</span></a>    <span class="n">enable_simulcast</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="PeerOptions-83"><a href="#PeerOptions-83"><span class="linenos">83</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Enables the peer to use simulcast&quot;&quot;&quot;</span>
</span><span id="PeerOptions-84"><a href="#PeerOptions-84"><span class="linenos">84</span></a>    <span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="PeerOptions-85"><a href="#PeerOptions-85"><span class="linenos">85</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Peer metadata&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Options specific to a WebRTC Peer</p>
</div>


                            <div id="PeerOptions.__init__" class="classattr">
                                <div class="attr function">

        <span class="name">PeerOptions</span><span class="signature pdoc-code multiline">(<span class="param">  <span class="n">enable_simulcast</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">  <span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>


    </div>
    <a class="headerlink" href="#PeerOptions.__init__"></a>



                            </div>
                            <div id="PeerOptions.enable_simulcast" class="classattr">
                                <div class="attr variable">
            <span class="name">enable_simulcast</span><span class="annotation">: bool</span>        =
<span class="default_value">True</span>


    </div>
    <a class="headerlink" href="#PeerOptions.enable_simulcast"></a>

            <div class="docstring"><p>Enables the peer to use simulcast</p>
</div>


                            </div>
                            <div id="PeerOptions.metadata" class="classattr">
                                <div class="attr variable">
            <span class="name">metadata</span><span class="annotation">: dict[str, typing.Any] | None</span>        =
<span class="default_value">None</span>


    </div>
    <a class="headerlink" href="#PeerOptions.metadata"></a>

            <div class="docstring"><p>Peer metadata</p>
</div>


                            </div>
                </section>
                <section id="RoomOptions">
                            <input id="RoomOptions-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator">@dataclass</div>

    <span class="def">class</span>
    <span class="name">RoomOptions</span>:

                <label class="view-source-button" for="RoomOptions-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RoomOptions"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RoomOptions-60"><a href="#RoomOptions-60"><span class="linenos">60</span></a><span class="nd">@dataclass</span>
</span><span id="RoomOptions-61"><a href="#RoomOptions-61"><span class="linenos">61</span></a><span class="k">class</span><span class="w"> </span><span class="nc">RoomOptions</span><span class="p">:</span>
</span><span id="RoomOptions-62"><a href="#RoomOptions-62"><span class="linenos">62</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Description of a room options&quot;&quot;&quot;</span>
</span><span id="RoomOptions-63"><a href="#RoomOptions-63"><span class="linenos">63</span></a>
</span><span id="RoomOptions-64"><a href="#RoomOptions-64"><span class="linenos">64</span></a>    <span class="n">max_peers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="RoomOptions-65"><a href="#RoomOptions-65"><span class="linenos">65</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Maximum amount of peers allowed into the room&quot;&quot;&quot;</span>
</span><span id="RoomOptions-66"><a href="#RoomOptions-66"><span class="linenos">66</span></a>    <span class="n">video_codec</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;h264&quot;</span><span class="p">,</span> <span class="s2">&quot;vp8&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="RoomOptions-67"><a href="#RoomOptions-67"><span class="linenos">67</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Enforces video codec for each peer in the room&quot;&quot;&quot;</span>
</span><span id="RoomOptions-68"><a href="#RoomOptions-68"><span class="linenos">68</span></a>    <span class="n">webhook_url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="RoomOptions-69"><a href="#RoomOptions-69"><span class="linenos">69</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;URL where Fishjam notifications will be sent&quot;&quot;&quot;</span>
</span><span id="RoomOptions-70"><a href="#RoomOptions-70"><span class="linenos">70</span></a>    <span class="n">room_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
</span><span id="RoomOptions-71"><a href="#RoomOptions-71"><span class="linenos">71</span></a>        <span class="s2">&quot;conference&quot;</span><span class="p">,</span> <span class="s2">&quot;audio_only&quot;</span><span class="p">,</span> <span class="s2">&quot;livestream&quot;</span><span class="p">,</span> <span class="s2">&quot;full_feature&quot;</span><span class="p">,</span> <span class="s2">&quot;broadcaster&quot;</span>
</span><span id="RoomOptions-72"><a href="#RoomOptions-72"><span class="linenos">72</span></a>    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;conference&quot;</span>
</span><span id="RoomOptions-73"><a href="#RoomOptions-73"><span class="linenos">73</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The use-case of the room. If not provided, this defaults to conference.&quot;&quot;&quot;</span>
</span><span id="RoomOptions-74"><a href="#RoomOptions-74"><span class="linenos">74</span></a>    <span class="n">public</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="RoomOptions-75"><a href="#RoomOptions-75"><span class="linenos">75</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;True if livestream viewers can omit specifying a token.&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Description of a room options</p>
</div>


                            <div id="RoomOptions.__init__" class="classattr">
                                <div class="attr function">

        <span class="name">RoomOptions</span><span class="signature pdoc-code multiline">(<span class="param">  <span class="n">max_peers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">    <span class="n">video_codec</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;h264&#39;</span><span class="p">,</span> <span class="s1">&#39;vp8&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param"> <span class="n">webhook_url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">  <span class="n">room_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;conference&#39;</span><span class="p">,</span> <span class="s1">&#39;audio_only&#39;</span><span class="p">,</span> <span class="s1">&#39;livestream&#39;</span><span class="p">,</span> <span class="s1">&#39;full_feature&#39;</span><span class="p">,</span> <span class="s1">&#39;broadcaster&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;conference&#39;</span>,</span><span class="param">    <span class="n">public</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span>)</span>


    </div>
    <a class="headerlink" href="#RoomOptions.__init__"></a>



                            </div>
                            <div id="RoomOptions.max_peers" class="classattr">
                                <div class="attr variable">
            <span class="name">max_peers</span><span class="annotation">: int | None</span>        =
<span class="default_value">None</span>


    </div>
    <a class="headerlink" href="#RoomOptions.max_peers"></a>

            <div class="docstring"><p>Maximum amount of peers allowed into the room</p>
</div>


                            </div>
                            <div id="RoomOptions.video_codec" class="classattr">
                                <div class="attr variable">
            <span class="name">video_codec</span><span class="annotation">: Optional[Literal[&#39;h264&#39;, &#39;vp8&#39;]]</span>        =
<span class="default_value">None</span>


    </div>
    <a class="headerlink" href="#RoomOptions.video_codec"></a>

            <div class="docstring"><p>Enforces video codec for each peer in the room</p>
</div>


                            </div>
                            <div id="RoomOptions.webhook_url" class="classattr">
                                <div class="attr variable">
            <span class="name">webhook_url</span><span class="annotation">: str | None</span>        =
<span class="default_value">None</span>


    </div>
    <a class="headerlink" href="#RoomOptions.webhook_url"></a>

            <div class="docstring"><p>URL where Fishjam notifications will be sent</p>
</div>


                            </div>
                            <div id="RoomOptions.room_type" class="classattr">
                                <div class="attr variable">
            <span class="name">room_type</span><span class="annotation">: Literal[&#39;conference&#39;, &#39;audio_only&#39;, &#39;livestream&#39;, &#39;full_feature&#39;, &#39;broadcaster&#39;]</span>        =
<span class="default_value">&#39;conference&#39;</span>


    </div>
    <a class="headerlink" href="#RoomOptions.room_type"></a>

            <div class="docstring"><p>The use-case of the room. If not provided, this defaults to conference.</p>
</div>


                            </div>
                            <div id="RoomOptions.public" class="classattr">
                                <div class="attr variable">
            <span class="name">public</span><span class="annotation">: bool</span>        =
<span class="default_value">False</span>


    </div>
    <a class="headerlink" href="#RoomOptions.public"></a>

            <div class="docstring"><p>True if livestream viewers can omit specifying a token.</p>
</div>


                            </div>
                </section>
                <section id="AgentOptions">
                            <input id="AgentOptions-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator">@dataclass</div>

    <span class="def">class</span>
    <span class="name">AgentOptions</span>:

                <label class="view-source-button" for="AgentOptions-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AgentOptions"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AgentOptions-96"><a href="#AgentOptions-96"><span class="linenos"> 96</span></a><span class="nd">@dataclass</span>
</span><span id="AgentOptions-97"><a href="#AgentOptions-97"><span class="linenos"> 97</span></a><span class="k">class</span><span class="w"> </span><span class="nc">AgentOptions</span><span class="p">:</span>
</span><span id="AgentOptions-98"><a href="#AgentOptions-98"><span class="linenos"> 98</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Options specific to a WebRTC Peer&quot;&quot;&quot;</span>
</span><span id="AgentOptions-99"><a href="#AgentOptions-99"><span class="linenos"> 99</span></a>
</span><span id="AgentOptions-100"><a href="#AgentOptions-100"><span class="linenos">100</span></a>    <span class="n">output</span><span class="p">:</span> <span class="n">AgentOutputOptions</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">AgentOutputOptions</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Options specific to a WebRTC Peer</p>
</div>


                            <div id="AgentOptions.__init__" class="classattr">
                                <div class="attr function">

        <span class="name">AgentOptions</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">output</span><span class="p">:</span> <span class="n"><a href="#AgentOutputOptions">AgentOutputOptions</a></span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">factory</span><span class="o">&gt;</span></span>)</span>


    </div>
    <a class="headerlink" href="#AgentOptions.__init__"></a>



                            </div>
                            <div id="AgentOptions.output" class="classattr">
                                <div class="attr variable">
            <span class="name">output</span><span class="annotation">: <a href="#AgentOutputOptions">AgentOutputOptions</a></span>


    </div>
    <a class="headerlink" href="#AgentOptions.output"></a>



                            </div>
                </section>
                <section id="AgentOutputOptions">
                            <input id="AgentOutputOptions-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator">@dataclass</div>

    <span class="def">class</span>
    <span class="name">AgentOutputOptions</span>:

                <label class="view-source-button" for="AgentOutputOptions-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AgentOutputOptions"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AgentOutputOptions-88"><a href="#AgentOutputOptions-88"><span class="linenos">88</span></a><span class="nd">@dataclass</span>
</span><span id="AgentOutputOptions-89"><a href="#AgentOutputOptions-89"><span class="linenos">89</span></a><span class="k">class</span><span class="w"> </span><span class="nc">AgentOutputOptions</span><span class="p">:</span>
</span><span id="AgentOutputOptions-90"><a href="#AgentOutputOptions-90"><span class="linenos">90</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Options of the desired format of audio tracks going from Fishjam to the agent.&quot;&quot;&quot;</span>
</span><span id="AgentOutputOptions-91"><a href="#AgentOutputOptions-91"><span class="linenos">91</span></a>
</span><span id="AgentOutputOptions-92"><a href="#AgentOutputOptions-92"><span class="linenos">92</span></a>    <span class="n">audio_format</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;pcm16&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;pcm16&quot;</span>
</span><span id="AgentOutputOptions-93"><a href="#AgentOutputOptions-93"><span class="linenos">93</span></a>    <span class="n">audio_sample_rate</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="mi">16000</span><span class="p">,</span> <span class="mi">24000</span><span class="p">]</span> <span class="o">=</span> <span class="mi">16000</span>
</span></pre></div>


            <div class="docstring"><p>Options of the desired format of audio tracks going from Fishjam to the agent.</p>
</div>


                            <div id="AgentOutputOptions.__init__" class="classattr">
                                <div class="attr function">

        <span class="name">AgentOutputOptions</span><span class="signature pdoc-code multiline">(<span class="param">   <span class="n">audio_format</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;pcm16&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;pcm16&#39;</span>,</span><span class="param">  <span class="n">audio_sample_rate</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="mi">16000</span><span class="p">,</span> <span class="mi">24000</span><span class="p">]</span> <span class="o">=</span> <span class="mi">16000</span></span>)</span>


    </div>
    <a class="headerlink" href="#AgentOutputOptions.__init__"></a>



                            </div>
                            <div id="AgentOutputOptions.audio_format" class="classattr">
                                <div class="attr variable">
            <span class="name">audio_format</span><span class="annotation">: Literal[&#39;pcm16&#39;]</span>        =
<span class="default_value">&#39;pcm16&#39;</span>


    </div>
    <a class="headerlink" href="#AgentOutputOptions.audio_format"></a>



                            </div>
                            <div id="AgentOutputOptions.audio_sample_rate" class="classattr">
                                <div class="attr variable">
            <span class="name">audio_sample_rate</span><span class="annotation">: Literal[16000, 24000]</span>        =
<span class="default_value">16000</span>


    </div>
    <a class="headerlink" href="#AgentOutputOptions.audio_sample_rate"></a>



                            </div>
                </section>
                <section id="Room">
                            <input id="Room-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator">@dataclass</div>

    <span class="def">class</span>
    <span class="name">Room</span>:

                <label class="view-source-button" for="Room-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Room"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Room-48"><a href="#Room-48"><span class="linenos">48</span></a><span class="nd">@dataclass</span>
</span><span id="Room-49"><a href="#Room-49"><span class="linenos">49</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Room</span><span class="p">:</span>
</span><span id="Room-50"><a href="#Room-50"><span class="linenos">50</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Description of the room state&quot;&quot;&quot;</span>
</span><span id="Room-51"><a href="#Room-51"><span class="linenos">51</span></a>
</span><span id="Room-52"><a href="#Room-52"><span class="linenos">52</span></a>    <span class="n">config</span><span class="p">:</span> <span class="n">RoomConfig</span>
</span><span id="Room-53"><a href="#Room-53"><span class="linenos">53</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Room configuration&quot;&quot;&quot;</span>
</span><span id="Room-54"><a href="#Room-54"><span class="linenos">54</span></a>    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="Room-55"><a href="#Room-55"><span class="linenos">55</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Room ID&quot;&quot;&quot;</span>
</span><span id="Room-56"><a href="#Room-56"><span class="linenos">56</span></a>    <span class="n">peers</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Peer</span><span class="p">]</span>
</span><span id="Room-57"><a href="#Room-57"><span class="linenos">57</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;List of all peers&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Description of the room state</p>
</div>


                            <div id="Room.__init__" class="classattr">
                                <div class="attr function">

        <span class="name">Room</span><span class="signature pdoc-code multiline">(<span class="param"> <span class="n">config</span><span class="p">:</span> <span class="n">fishjam</span><span class="o">.</span><span class="n">_openapi_client</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">room_config</span><span class="o">.</span><span class="n">RoomConfig</span>,</span><span class="param">  <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">  <span class="n">peers</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n"><a href="#Peer">Peer</a></span><span class="p">]</span></span>)</span>


    </div>
    <a class="headerlink" href="#Room.__init__"></a>



                            </div>
                            <div id="Room.config" class="classattr">
                                <div class="attr variable">
            <span class="name">config</span><span class="annotation">: fishjam._openapi_client.models.room_config.RoomConfig</span>


    </div>
    <a class="headerlink" href="#Room.config"></a>

            <div class="docstring"><p>Room configuration</p>
</div>


                            </div>
                            <div id="Room.id" class="classattr">
                                <div class="attr variable">
            <span class="name">id</span><span class="annotation">: str</span>


    </div>
    <a class="headerlink" href="#Room.id"></a>

            <div class="docstring"><p>Room ID</p>
</div>


                            </div>
                            <div id="Room.peers" class="classattr">
                                <div class="attr variable">
            <span class="name">peers</span><span class="annotation">: list[<a href="#Peer">Peer</a>]</span>


    </div>
    <a class="headerlink" href="#Room.peers"></a>

            <div class="docstring"><p>List of all peers</p>
</div>


                            </div>
                </section>
                <section id="Peer">
                            <input id="Peer-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">

    <span class="def">class</span>
    <span class="name">Peer</span>:

                <label class="view-source-button" for="Peer-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Peer"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Peer-26"><a href="#Peer-26"><span class="linenos"> 26</span></a><span class="nd">@_attrs_define</span>
</span><span id="Peer-27"><a href="#Peer-27"><span class="linenos"> 27</span></a><span class="k">class</span><span class="w"> </span><span class="nc">Peer</span><span class="p">:</span>
</span><span id="Peer-28"><a href="#Peer-28"><span class="linenos"> 28</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Describes peer status</span>
</span><span id="Peer-29"><a href="#Peer-29"><span class="linenos"> 29</span></a>
</span><span id="Peer-30"><a href="#Peer-30"><span class="linenos"> 30</span></a><span class="sd">    Attributes:</span>
</span><span id="Peer-31"><a href="#Peer-31"><span class="linenos"> 31</span></a><span class="sd">        id (str): Assigned peer id Example: 4a1c1164-5fb7-425d-89d7-24cdb8fff1cf.</span>
</span><span id="Peer-32"><a href="#Peer-32"><span class="linenos"> 32</span></a><span class="sd">        metadata (Union[&#39;PeerMetadata&#39;, None]): Custom metadata set by the peer Example: {&#39;name&#39;: &#39;FishjamUser&#39;}.</span>
</span><span id="Peer-33"><a href="#Peer-33"><span class="linenos"> 33</span></a><span class="sd">        status (PeerStatus): Informs about the peer status Example: disconnected.</span>
</span><span id="Peer-34"><a href="#Peer-34"><span class="linenos"> 34</span></a><span class="sd">        subscribe_mode (SubscribeMode): Configuration of peer&#39;s subscribing policy</span>
</span><span id="Peer-35"><a href="#Peer-35"><span class="linenos"> 35</span></a><span class="sd">        subscriptions (list[str]): Describes peer&#39;s subscriptions in manual mode</span>
</span><span id="Peer-36"><a href="#Peer-36"><span class="linenos"> 36</span></a><span class="sd">        tracks (list[&#39;Track&#39;]): List of all peer&#39;s tracks</span>
</span><span id="Peer-37"><a href="#Peer-37"><span class="linenos"> 37</span></a><span class="sd">        type_ (PeerType): Peer type Example: webrtc.</span>
</span><span id="Peer-38"><a href="#Peer-38"><span class="linenos"> 38</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Peer-39"><a href="#Peer-39"><span class="linenos"> 39</span></a>
</span><span id="Peer-40"><a href="#Peer-40"><span class="linenos"> 40</span></a>    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="Peer-41"><a href="#Peer-41"><span class="linenos"> 41</span></a>    <span class="n">metadata</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;PeerMetadata&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="Peer-42"><a href="#Peer-42"><span class="linenos"> 42</span></a>    <span class="n">status</span><span class="p">:</span> <span class="n">PeerStatus</span>
</span><span id="Peer-43"><a href="#Peer-43"><span class="linenos"> 43</span></a>    <span class="n">subscribe_mode</span><span class="p">:</span> <span class="n">SubscribeMode</span>
</span><span id="Peer-44"><a href="#Peer-44"><span class="linenos"> 44</span></a>    <span class="n">subscriptions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="Peer-45"><a href="#Peer-45"><span class="linenos"> 45</span></a>    <span class="n">tracks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;Track&quot;</span><span class="p">]</span>
</span><span id="Peer-46"><a href="#Peer-46"><span class="linenos"> 46</span></a>    <span class="n">type_</span><span class="p">:</span> <span class="n">PeerType</span>
</span><span id="Peer-47"><a href="#Peer-47"><span class="linenos"> 47</span></a>    <span class="n">additional_properties</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">_attrs_field</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
</span><span id="Peer-48"><a href="#Peer-48"><span class="linenos"> 48</span></a>
</span><span id="Peer-49"><a href="#Peer-49"><span class="linenos"> 49</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="Peer-50"><a href="#Peer-50"><span class="linenos"> 50</span></a>        <span class="kn">from</span><span class="w"> </span><span class="nn">..models.peer_metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">PeerMetadata</span>
</span><span id="Peer-51"><a href="#Peer-51"><span class="linenos"> 51</span></a>
</span><span id="Peer-52"><a href="#Peer-52"><span class="linenos"> 52</span></a>        <span class="nb">id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
</span><span id="Peer-53"><a href="#Peer-53"><span class="linenos"> 53</span></a>
</span><span id="Peer-54"><a href="#Peer-54"><span class="linenos"> 54</span></a>        <span class="n">metadata</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
</span><span id="Peer-55"><a href="#Peer-55"><span class="linenos"> 55</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span> <span class="n">PeerMetadata</span><span class="p">):</span>
</span><span id="Peer-56"><a href="#Peer-56"><span class="linenos"> 56</span></a>            <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="Peer-57"><a href="#Peer-57"><span class="linenos"> 57</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Peer-58"><a href="#Peer-58"><span class="linenos"> 58</span></a>            <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span>
</span><span id="Peer-59"><a href="#Peer-59"><span class="linenos"> 59</span></a>
</span><span id="Peer-60"><a href="#Peer-60"><span class="linenos"> 60</span></a>        <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">value</span>
</span><span id="Peer-61"><a href="#Peer-61"><span class="linenos"> 61</span></a>
</span><span id="Peer-62"><a href="#Peer-62"><span class="linenos"> 62</span></a>        <span class="n">subscribe_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subscribe_mode</span><span class="o">.</span><span class="n">value</span>
</span><span id="Peer-63"><a href="#Peer-63"><span class="linenos"> 63</span></a>
</span><span id="Peer-64"><a href="#Peer-64"><span class="linenos"> 64</span></a>        <span class="n">subscriptions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subscriptions</span>
</span><span id="Peer-65"><a href="#Peer-65"><span class="linenos"> 65</span></a>
</span><span id="Peer-66"><a href="#Peer-66"><span class="linenos"> 66</span></a>        <span class="n">tracks</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Peer-67"><a href="#Peer-67"><span class="linenos"> 67</span></a>        <span class="k">for</span> <span class="n">tracks_item_data</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracks</span><span class="p">:</span>
</span><span id="Peer-68"><a href="#Peer-68"><span class="linenos"> 68</span></a>            <span class="n">tracks_item</span> <span class="o">=</span> <span class="n">tracks_item_data</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="Peer-69"><a href="#Peer-69"><span class="linenos"> 69</span></a>            <span class="n">tracks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tracks_item</span><span class="p">)</span>
</span><span id="Peer-70"><a href="#Peer-70"><span class="linenos"> 70</span></a>
</span><span id="Peer-71"><a href="#Peer-71"><span class="linenos"> 71</span></a>        <span class="n">type_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_</span><span class="o">.</span><span class="n">value</span>
</span><span id="Peer-72"><a href="#Peer-72"><span class="linenos"> 72</span></a>
</span><span id="Peer-73"><a href="#Peer-73"><span class="linenos"> 73</span></a>        <span class="n">field_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Peer-74"><a href="#Peer-74"><span class="linenos"> 74</span></a>        <span class="n">field_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">additional_properties</span><span class="p">)</span>
</span><span id="Peer-75"><a href="#Peer-75"><span class="linenos"> 75</span></a>        <span class="n">field_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
</span><span id="Peer-76"><a href="#Peer-76"><span class="linenos"> 76</span></a>            <span class="p">{</span>
</span><span id="Peer-77"><a href="#Peer-77"><span class="linenos"> 77</span></a>                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">id</span><span class="p">,</span>
</span><span id="Peer-78"><a href="#Peer-78"><span class="linenos"> 78</span></a>                <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">metadata</span><span class="p">,</span>
</span><span id="Peer-79"><a href="#Peer-79"><span class="linenos"> 79</span></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="n">status</span><span class="p">,</span>
</span><span id="Peer-80"><a href="#Peer-80"><span class="linenos"> 80</span></a>                <span class="s2">&quot;subscribeMode&quot;</span><span class="p">:</span> <span class="n">subscribe_mode</span><span class="p">,</span>
</span><span id="Peer-81"><a href="#Peer-81"><span class="linenos"> 81</span></a>                <span class="s2">&quot;subscriptions&quot;</span><span class="p">:</span> <span class="n">subscriptions</span><span class="p">,</span>
</span><span id="Peer-82"><a href="#Peer-82"><span class="linenos"> 82</span></a>                <span class="s2">&quot;tracks&quot;</span><span class="p">:</span> <span class="n">tracks</span><span class="p">,</span>
</span><span id="Peer-83"><a href="#Peer-83"><span class="linenos"> 83</span></a>                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">type_</span><span class="p">,</span>
</span><span id="Peer-84"><a href="#Peer-84"><span class="linenos"> 84</span></a>            <span class="p">}</span>
</span><span id="Peer-85"><a href="#Peer-85"><span class="linenos"> 85</span></a>        <span class="p">)</span>
</span><span id="Peer-86"><a href="#Peer-86"><span class="linenos"> 86</span></a>
</span><span id="Peer-87"><a href="#Peer-87"><span class="linenos"> 87</span></a>        <span class="k">return</span> <span class="n">field_dict</span>
</span><span id="Peer-88"><a href="#Peer-88"><span class="linenos"> 88</span></a>
</span><span id="Peer-89"><a href="#Peer-89"><span class="linenos"> 89</span></a>    <span class="nd">@classmethod</span>
</span><span id="Peer-90"><a href="#Peer-90"><span class="linenos"> 90</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">src_dict</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="Peer-91"><a href="#Peer-91"><span class="linenos"> 91</span></a>        <span class="kn">from</span><span class="w"> </span><span class="nn">..models.peer_metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">PeerMetadata</span>
</span><span id="Peer-92"><a href="#Peer-92"><span class="linenos"> 92</span></a>        <span class="kn">from</span><span class="w"> </span><span class="nn">..models.track</span><span class="w"> </span><span class="kn">import</span> <span class="n">Track</span>
</span><span id="Peer-93"><a href="#Peer-93"><span class="linenos"> 93</span></a>
</span><span id="Peer-94"><a href="#Peer-94"><span class="linenos"> 94</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">src_dict</span><span class="p">)</span>
</span><span id="Peer-95"><a href="#Peer-95"><span class="linenos"> 95</span></a>        <span class="nb">id</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>
</span><span id="Peer-96"><a href="#Peer-96"><span class="linenos"> 96</span></a>
</span><span id="Peer-97"><a href="#Peer-97"><span class="linenos"> 97</span></a>        <span class="k">def</span><span class="w"> </span><span class="nf">_parse_metadata</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;PeerMetadata&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
</span><span id="Peer-98"><a href="#Peer-98"><span class="linenos"> 98</span></a>            <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Peer-99"><a href="#Peer-99"><span class="linenos"> 99</span></a>                <span class="k">return</span> <span class="n">data</span>
</span><span id="Peer-100"><a href="#Peer-100"><span class="linenos">100</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="Peer-101"><a href="#Peer-101"><span class="linenos">101</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="Peer-102"><a href="#Peer-102"><span class="linenos">102</span></a>                    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>
</span><span id="Peer-103"><a href="#Peer-103"><span class="linenos">103</span></a>                <span class="n">componentsschemas_peer_metadata_type_0</span> <span class="o">=</span> <span class="n">PeerMetadata</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="Peer-104"><a href="#Peer-104"><span class="linenos">104</span></a>
</span><span id="Peer-105"><a href="#Peer-105"><span class="linenos">105</span></a>                <span class="k">return</span> <span class="n">componentsschemas_peer_metadata_type_0</span>
</span><span id="Peer-106"><a href="#Peer-106"><span class="linenos">106</span></a>            <span class="k">except</span><span class="p">:</span>  <span class="c1"># noqa: E722</span>
</span><span id="Peer-107"><a href="#Peer-107"><span class="linenos">107</span></a>                <span class="k">pass</span>
</span><span id="Peer-108"><a href="#Peer-108"><span class="linenos">108</span></a>            <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">Union</span><span class="p">[</span><span class="s2">&quot;PeerMetadata&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="n">data</span><span class="p">)</span>
</span><span id="Peer-109"><a href="#Peer-109"><span class="linenos">109</span></a>
</span><span id="Peer-110"><a href="#Peer-110"><span class="linenos">110</span></a>        <span class="n">metadata</span> <span class="o">=</span> <span class="n">_parse_metadata</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;metadata&quot;</span><span class="p">))</span>
</span><span id="Peer-111"><a href="#Peer-111"><span class="linenos">111</span></a>
</span><span id="Peer-112"><a href="#Peer-112"><span class="linenos">112</span></a>        <span class="n">status</span> <span class="o">=</span> <span class="n">PeerStatus</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">))</span>
</span><span id="Peer-113"><a href="#Peer-113"><span class="linenos">113</span></a>
</span><span id="Peer-114"><a href="#Peer-114"><span class="linenos">114</span></a>        <span class="n">subscribe_mode</span> <span class="o">=</span> <span class="n">SubscribeMode</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;subscribeMode&quot;</span><span class="p">))</span>
</span><span id="Peer-115"><a href="#Peer-115"><span class="linenos">115</span></a>
</span><span id="Peer-116"><a href="#Peer-116"><span class="linenos">116</span></a>        <span class="n">subscriptions</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;subscriptions&quot;</span><span class="p">))</span>
</span><span id="Peer-117"><a href="#Peer-117"><span class="linenos">117</span></a>
</span><span id="Peer-118"><a href="#Peer-118"><span class="linenos">118</span></a>        <span class="n">tracks</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Peer-119"><a href="#Peer-119"><span class="linenos">119</span></a>        <span class="n">_tracks</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;tracks&quot;</span><span class="p">)</span>
</span><span id="Peer-120"><a href="#Peer-120"><span class="linenos">120</span></a>        <span class="k">for</span> <span class="n">tracks_item_data</span> <span class="ow">in</span> <span class="n">_tracks</span><span class="p">:</span>
</span><span id="Peer-121"><a href="#Peer-121"><span class="linenos">121</span></a>            <span class="n">tracks_item</span> <span class="o">=</span> <span class="n">Track</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">tracks_item_data</span><span class="p">)</span>
</span><span id="Peer-122"><a href="#Peer-122"><span class="linenos">122</span></a>
</span><span id="Peer-123"><a href="#Peer-123"><span class="linenos">123</span></a>            <span class="n">tracks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tracks_item</span><span class="p">)</span>
</span><span id="Peer-124"><a href="#Peer-124"><span class="linenos">124</span></a>
</span><span id="Peer-125"><a href="#Peer-125"><span class="linenos">125</span></a>        <span class="n">type_</span> <span class="o">=</span> <span class="n">PeerType</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">))</span>
</span><span id="Peer-126"><a href="#Peer-126"><span class="linenos">126</span></a>
</span><span id="Peer-127"><a href="#Peer-127"><span class="linenos">127</span></a>        <span class="n">peer</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span>
</span><span id="Peer-128"><a href="#Peer-128"><span class="linenos">128</span></a>            <span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span>
</span><span id="Peer-129"><a href="#Peer-129"><span class="linenos">129</span></a>            <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
</span><span id="Peer-130"><a href="#Peer-130"><span class="linenos">130</span></a>            <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
</span><span id="Peer-131"><a href="#Peer-131"><span class="linenos">131</span></a>            <span class="n">subscribe_mode</span><span class="o">=</span><span class="n">subscribe_mode</span><span class="p">,</span>
</span><span id="Peer-132"><a href="#Peer-132"><span class="linenos">132</span></a>            <span class="n">subscriptions</span><span class="o">=</span><span class="n">subscriptions</span><span class="p">,</span>
</span><span id="Peer-133"><a href="#Peer-133"><span class="linenos">133</span></a>            <span class="n">tracks</span><span class="o">=</span><span class="n">tracks</span><span class="p">,</span>
</span><span id="Peer-134"><a href="#Peer-134"><span class="linenos">134</span></a>            <span class="n">type_</span><span class="o">=</span><span class="n">type_</span><span class="p">,</span>
</span><span id="Peer-135"><a href="#Peer-135"><span class="linenos">135</span></a>        <span class="p">)</span>
</span><span id="Peer-136"><a href="#Peer-136"><span class="linenos">136</span></a>
</span><span id="Peer-137"><a href="#Peer-137"><span class="linenos">137</span></a>        <span class="n">peer</span><span class="o">.</span><span class="n">additional_properties</span> <span class="o">=</span> <span class="n">d</span>
</span><span id="Peer-138"><a href="#Peer-138"><span class="linenos">138</span></a>        <span class="k">return</span> <span class="n">peer</span>
</span><span id="Peer-139"><a href="#Peer-139"><span class="linenos">139</span></a>
</span><span id="Peer-140"><a href="#Peer-140"><span class="linenos">140</span></a>    <span class="nd">@property</span>
</span><span id="Peer-141"><a href="#Peer-141"><span class="linenos">141</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">additional_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Peer-142"><a href="#Peer-142"><span class="linenos">142</span></a>        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">additional_properties</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</span><span id="Peer-143"><a href="#Peer-143"><span class="linenos">143</span></a>
</span><span id="Peer-144"><a href="#Peer-144"><span class="linenos">144</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
</span><span id="Peer-145"><a href="#Peer-145"><span class="linenos">145</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="Peer-146"><a href="#Peer-146"><span class="linenos">146</span></a>
</span><span id="Peer-147"><a href="#Peer-147"><span class="linenos">147</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Peer-148"><a href="#Peer-148"><span class="linenos">148</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Peer-149"><a href="#Peer-149"><span class="linenos">149</span></a>
</span><span id="Peer-150"><a href="#Peer-150"><span class="linenos">150</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__delitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Peer-151"><a href="#Peer-151"><span class="linenos">151</span></a>        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="Peer-152"><a href="#Peer-152"><span class="linenos">152</span></a>
</span><span id="Peer-153"><a href="#Peer-153"><span class="linenos">153</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="Peer-154"><a href="#Peer-154"><span class="linenos">154</span></a>        <span class="k">return</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties</span>
</span></pre></div>


            <div class="docstring"><p>Describes peer status</p>

<p>Attributes:
    id (str): Assigned peer id Example: 4a1c1164-5fb7-425d-89d7-24cdb8fff1cf.
    metadata (Union['PeerMetadata', None]): Custom metadata set by the peer Example: {'name': 'FishjamUser'}.
    status (PeerStatus): Informs about the peer status Example: disconnected.
    subscribe_mode (SubscribeMode): Configuration of peer's subscribing policy
    subscriptions (list[str]): Describes peer's subscriptions in manual mode
    tracks (list['Track']): List of all peer's tracks
    type_ (PeerType): Peer type Example: webrtc.</p>
</div>


                            <div id="Peer.__init__" class="classattr">
                                        <input id="Peer.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="name">Peer</span><span class="signature pdoc-code multiline">(<span class="param"> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">  <span class="n">metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n"><a href="#PeerMetadata">PeerMetadata</a></span><span class="p">]</span>,</span><span class="param">  <span class="n">status</span><span class="p">:</span> <span class="n">fishjam</span><span class="o">.</span><span class="n">_openapi_client</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">peer_status</span><span class="o">.</span><span class="n">PeerStatus</span>,</span><span class="param">  <span class="n">subscribe_mode</span><span class="p">:</span> <span class="n">fishjam</span><span class="o">.</span><span class="n">_openapi_client</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">subscribe_mode</span><span class="o">.</span><span class="n">SubscribeMode</span>,</span><span class="param">    <span class="n">subscriptions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>,</span><span class="param">    <span class="n">tracks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">fishjam</span><span class="o">.</span><span class="n">_openapi_client</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">Track</span><span class="p">]</span>,</span><span class="param"> <span class="n">type_</span><span class="p">:</span> <span class="n">fishjam</span><span class="o">.</span><span class="n">_openapi_client</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">peer_type</span><span class="o">.</span><span class="n">PeerType</span></span>)</span>

                <label class="view-source-button" for="Peer.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Peer.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Peer.__init__-2"><a href="#Peer.__init__-2"><span class="linenos"> 2</span></a><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">subscribe_mode</span><span class="p">,</span> <span class="n">subscriptions</span><span class="p">,</span> <span class="n">tracks</span><span class="p">,</span> <span class="n">type_</span><span class="p">):</span>
</span><span id="Peer.__init__-3"><a href="#Peer.__init__-3"><span class="linenos"> 3</span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
</span><span id="Peer.__init__-4"><a href="#Peer.__init__-4"><span class="linenos"> 4</span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">metadata</span>
</span><span id="Peer.__init__-5"><a href="#Peer.__init__-5"><span class="linenos"> 5</span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">status</span>
</span><span id="Peer.__init__-6"><a href="#Peer.__init__-6"><span class="linenos"> 6</span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">subscribe_mode</span> <span class="o">=</span> <span class="n">subscribe_mode</span>
</span><span id="Peer.__init__-7"><a href="#Peer.__init__-7"><span class="linenos"> 7</span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">subscriptions</span> <span class="o">=</span> <span class="n">subscriptions</span>
</span><span id="Peer.__init__-8"><a href="#Peer.__init__-8"><span class="linenos"> 8</span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">tracks</span> <span class="o">=</span> <span class="n">tracks</span>
</span><span id="Peer.__init__-9"><a href="#Peer.__init__-9"><span class="linenos"> 9</span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">type_</span> <span class="o">=</span> <span class="n">type_</span>
</span><span id="Peer.__init__-10"><a href="#Peer.__init__-10"><span class="linenos">10</span></a>    <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties</span> <span class="o">=</span> <span class="n">__attr_factory_additional_properties</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Method generated by attrs for class Peer.</p>
</div>


                            </div>
                            <div id="Peer.id" class="classattr">
                                <div class="attr variable">
            <span class="name">id</span><span class="annotation">: str</span>


    </div>
    <a class="headerlink" href="#Peer.id"></a>



                            </div>
                            <div id="Peer.metadata" class="classattr">
                                <div class="attr variable">
            <span class="name">metadata</span><span class="annotation">: Optional[<a href="#PeerMetadata">PeerMetadata</a>]</span>


    </div>
    <a class="headerlink" href="#Peer.metadata"></a>



                            </div>
                            <div id="Peer.status" class="classattr">
                                <div class="attr variable">
            <span class="name">status</span><span class="annotation">: fishjam._openapi_client.models.peer_status.PeerStatus</span>


    </div>
    <a class="headerlink" href="#Peer.status"></a>



                            </div>
                            <div id="Peer.subscribe_mode" class="classattr">
                                <div class="attr variable">
            <span class="name">subscribe_mode</span><span class="annotation">: fishjam._openapi_client.models.subscribe_mode.SubscribeMode</span>


    </div>
    <a class="headerlink" href="#Peer.subscribe_mode"></a>



                            </div>
                            <div id="Peer.subscriptions" class="classattr">
                                <div class="attr variable">
            <span class="name">subscriptions</span><span class="annotation">: list[str]</span>


    </div>
    <a class="headerlink" href="#Peer.subscriptions"></a>



                            </div>
                            <div id="Peer.tracks" class="classattr">
                                <div class="attr variable">
            <span class="name">tracks</span><span class="annotation">: list[fishjam._openapi_client.models.track.Track]</span>


    </div>
    <a class="headerlink" href="#Peer.tracks"></a>



                            </div>
                            <div id="Peer.type_" class="classattr">
                                <div class="attr variable">
            <span class="name">type_</span><span class="annotation">: fishjam._openapi_client.models.peer_type.PeerType</span>


    </div>
    <a class="headerlink" href="#Peer.type_"></a>



                            </div>
                            <div id="Peer.additional_properties" class="classattr">
                                <div class="attr variable">
            <span class="name">additional_properties</span><span class="annotation">: dict[str, typing.Any]</span>


    </div>
    <a class="headerlink" href="#Peer.additional_properties"></a>



                            </div>
                            <div id="Peer.to_dict" class="classattr">
                                        <input id="Peer.to_dict-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">to_dict</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Peer.to_dict-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Peer.to_dict"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Peer.to_dict-49"><a href="#Peer.to_dict-49"><span class="linenos">49</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="Peer.to_dict-50"><a href="#Peer.to_dict-50"><span class="linenos">50</span></a>        <span class="kn">from</span><span class="w"> </span><span class="nn">..models.peer_metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">PeerMetadata</span>
</span><span id="Peer.to_dict-51"><a href="#Peer.to_dict-51"><span class="linenos">51</span></a>
</span><span id="Peer.to_dict-52"><a href="#Peer.to_dict-52"><span class="linenos">52</span></a>        <span class="nb">id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
</span><span id="Peer.to_dict-53"><a href="#Peer.to_dict-53"><span class="linenos">53</span></a>
</span><span id="Peer.to_dict-54"><a href="#Peer.to_dict-54"><span class="linenos">54</span></a>        <span class="n">metadata</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
</span><span id="Peer.to_dict-55"><a href="#Peer.to_dict-55"><span class="linenos">55</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span> <span class="n">PeerMetadata</span><span class="p">):</span>
</span><span id="Peer.to_dict-56"><a href="#Peer.to_dict-56"><span class="linenos">56</span></a>            <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="Peer.to_dict-57"><a href="#Peer.to_dict-57"><span class="linenos">57</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Peer.to_dict-58"><a href="#Peer.to_dict-58"><span class="linenos">58</span></a>            <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span>
</span><span id="Peer.to_dict-59"><a href="#Peer.to_dict-59"><span class="linenos">59</span></a>
</span><span id="Peer.to_dict-60"><a href="#Peer.to_dict-60"><span class="linenos">60</span></a>        <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">value</span>
</span><span id="Peer.to_dict-61"><a href="#Peer.to_dict-61"><span class="linenos">61</span></a>
</span><span id="Peer.to_dict-62"><a href="#Peer.to_dict-62"><span class="linenos">62</span></a>        <span class="n">subscribe_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subscribe_mode</span><span class="o">.</span><span class="n">value</span>
</span><span id="Peer.to_dict-63"><a href="#Peer.to_dict-63"><span class="linenos">63</span></a>
</span><span id="Peer.to_dict-64"><a href="#Peer.to_dict-64"><span class="linenos">64</span></a>        <span class="n">subscriptions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subscriptions</span>
</span><span id="Peer.to_dict-65"><a href="#Peer.to_dict-65"><span class="linenos">65</span></a>
</span><span id="Peer.to_dict-66"><a href="#Peer.to_dict-66"><span class="linenos">66</span></a>        <span class="n">tracks</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Peer.to_dict-67"><a href="#Peer.to_dict-67"><span class="linenos">67</span></a>        <span class="k">for</span> <span class="n">tracks_item_data</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracks</span><span class="p">:</span>
</span><span id="Peer.to_dict-68"><a href="#Peer.to_dict-68"><span class="linenos">68</span></a>            <span class="n">tracks_item</span> <span class="o">=</span> <span class="n">tracks_item_data</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="Peer.to_dict-69"><a href="#Peer.to_dict-69"><span class="linenos">69</span></a>            <span class="n">tracks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tracks_item</span><span class="p">)</span>
</span><span id="Peer.to_dict-70"><a href="#Peer.to_dict-70"><span class="linenos">70</span></a>
</span><span id="Peer.to_dict-71"><a href="#Peer.to_dict-71"><span class="linenos">71</span></a>        <span class="n">type_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_</span><span class="o">.</span><span class="n">value</span>
</span><span id="Peer.to_dict-72"><a href="#Peer.to_dict-72"><span class="linenos">72</span></a>
</span><span id="Peer.to_dict-73"><a href="#Peer.to_dict-73"><span class="linenos">73</span></a>        <span class="n">field_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Peer.to_dict-74"><a href="#Peer.to_dict-74"><span class="linenos">74</span></a>        <span class="n">field_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">additional_properties</span><span class="p">)</span>
</span><span id="Peer.to_dict-75"><a href="#Peer.to_dict-75"><span class="linenos">75</span></a>        <span class="n">field_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
</span><span id="Peer.to_dict-76"><a href="#Peer.to_dict-76"><span class="linenos">76</span></a>            <span class="p">{</span>
</span><span id="Peer.to_dict-77"><a href="#Peer.to_dict-77"><span class="linenos">77</span></a>                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">id</span><span class="p">,</span>
</span><span id="Peer.to_dict-78"><a href="#Peer.to_dict-78"><span class="linenos">78</span></a>                <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">metadata</span><span class="p">,</span>
</span><span id="Peer.to_dict-79"><a href="#Peer.to_dict-79"><span class="linenos">79</span></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="n">status</span><span class="p">,</span>
</span><span id="Peer.to_dict-80"><a href="#Peer.to_dict-80"><span class="linenos">80</span></a>                <span class="s2">&quot;subscribeMode&quot;</span><span class="p">:</span> <span class="n">subscribe_mode</span><span class="p">,</span>
</span><span id="Peer.to_dict-81"><a href="#Peer.to_dict-81"><span class="linenos">81</span></a>                <span class="s2">&quot;subscriptions&quot;</span><span class="p">:</span> <span class="n">subscriptions</span><span class="p">,</span>
</span><span id="Peer.to_dict-82"><a href="#Peer.to_dict-82"><span class="linenos">82</span></a>                <span class="s2">&quot;tracks&quot;</span><span class="p">:</span> <span class="n">tracks</span><span class="p">,</span>
</span><span id="Peer.to_dict-83"><a href="#Peer.to_dict-83"><span class="linenos">83</span></a>                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">type_</span><span class="p">,</span>
</span><span id="Peer.to_dict-84"><a href="#Peer.to_dict-84"><span class="linenos">84</span></a>            <span class="p">}</span>
</span><span id="Peer.to_dict-85"><a href="#Peer.to_dict-85"><span class="linenos">85</span></a>        <span class="p">)</span>
</span><span id="Peer.to_dict-86"><a href="#Peer.to_dict-86"><span class="linenos">86</span></a>
</span><span id="Peer.to_dict-87"><a href="#Peer.to_dict-87"><span class="linenos">87</span></a>        <span class="k">return</span> <span class="n">field_dict</span>
</span></pre></div>




                            </div>
                            <div id="Peer.from_dict" class="classattr">
                                        <input id="Peer.from_dict-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">from_dict</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="o">~</span><span class="n">T</span><span class="p">]</span>, </span><span class="param"><span class="n">src_dict</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="o">~</span><span class="n">T</span>:</span></span>

                <label class="view-source-button" for="Peer.from_dict-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Peer.from_dict"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Peer.from_dict-89"><a href="#Peer.from_dict-89"><span class="linenos"> 89</span></a>    <span class="nd">@classmethod</span>
</span><span id="Peer.from_dict-90"><a href="#Peer.from_dict-90"><span class="linenos"> 90</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">src_dict</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="Peer.from_dict-91"><a href="#Peer.from_dict-91"><span class="linenos"> 91</span></a>        <span class="kn">from</span><span class="w"> </span><span class="nn">..models.peer_metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">PeerMetadata</span>
</span><span id="Peer.from_dict-92"><a href="#Peer.from_dict-92"><span class="linenos"> 92</span></a>        <span class="kn">from</span><span class="w"> </span><span class="nn">..models.track</span><span class="w"> </span><span class="kn">import</span> <span class="n">Track</span>
</span><span id="Peer.from_dict-93"><a href="#Peer.from_dict-93"><span class="linenos"> 93</span></a>
</span><span id="Peer.from_dict-94"><a href="#Peer.from_dict-94"><span class="linenos"> 94</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">src_dict</span><span class="p">)</span>
</span><span id="Peer.from_dict-95"><a href="#Peer.from_dict-95"><span class="linenos"> 95</span></a>        <span class="nb">id</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>
</span><span id="Peer.from_dict-96"><a href="#Peer.from_dict-96"><span class="linenos"> 96</span></a>
</span><span id="Peer.from_dict-97"><a href="#Peer.from_dict-97"><span class="linenos"> 97</span></a>        <span class="k">def</span><span class="w"> </span><span class="nf">_parse_metadata</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;PeerMetadata&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
</span><span id="Peer.from_dict-98"><a href="#Peer.from_dict-98"><span class="linenos"> 98</span></a>            <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Peer.from_dict-99"><a href="#Peer.from_dict-99"><span class="linenos"> 99</span></a>                <span class="k">return</span> <span class="n">data</span>
</span><span id="Peer.from_dict-100"><a href="#Peer.from_dict-100"><span class="linenos">100</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="Peer.from_dict-101"><a href="#Peer.from_dict-101"><span class="linenos">101</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="Peer.from_dict-102"><a href="#Peer.from_dict-102"><span class="linenos">102</span></a>                    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>
</span><span id="Peer.from_dict-103"><a href="#Peer.from_dict-103"><span class="linenos">103</span></a>                <span class="n">componentsschemas_peer_metadata_type_0</span> <span class="o">=</span> <span class="n">PeerMetadata</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="Peer.from_dict-104"><a href="#Peer.from_dict-104"><span class="linenos">104</span></a>
</span><span id="Peer.from_dict-105"><a href="#Peer.from_dict-105"><span class="linenos">105</span></a>                <span class="k">return</span> <span class="n">componentsschemas_peer_metadata_type_0</span>
</span><span id="Peer.from_dict-106"><a href="#Peer.from_dict-106"><span class="linenos">106</span></a>            <span class="k">except</span><span class="p">:</span>  <span class="c1"># noqa: E722</span>
</span><span id="Peer.from_dict-107"><a href="#Peer.from_dict-107"><span class="linenos">107</span></a>                <span class="k">pass</span>
</span><span id="Peer.from_dict-108"><a href="#Peer.from_dict-108"><span class="linenos">108</span></a>            <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">Union</span><span class="p">[</span><span class="s2">&quot;PeerMetadata&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="n">data</span><span class="p">)</span>
</span><span id="Peer.from_dict-109"><a href="#Peer.from_dict-109"><span class="linenos">109</span></a>
</span><span id="Peer.from_dict-110"><a href="#Peer.from_dict-110"><span class="linenos">110</span></a>        <span class="n">metadata</span> <span class="o">=</span> <span class="n">_parse_metadata</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;metadata&quot;</span><span class="p">))</span>
</span><span id="Peer.from_dict-111"><a href="#Peer.from_dict-111"><span class="linenos">111</span></a>
</span><span id="Peer.from_dict-112"><a href="#Peer.from_dict-112"><span class="linenos">112</span></a>        <span class="n">status</span> <span class="o">=</span> <span class="n">PeerStatus</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">))</span>
</span><span id="Peer.from_dict-113"><a href="#Peer.from_dict-113"><span class="linenos">113</span></a>
</span><span id="Peer.from_dict-114"><a href="#Peer.from_dict-114"><span class="linenos">114</span></a>        <span class="n">subscribe_mode</span> <span class="o">=</span> <span class="n">SubscribeMode</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;subscribeMode&quot;</span><span class="p">))</span>
</span><span id="Peer.from_dict-115"><a href="#Peer.from_dict-115"><span class="linenos">115</span></a>
</span><span id="Peer.from_dict-116"><a href="#Peer.from_dict-116"><span class="linenos">116</span></a>        <span class="n">subscriptions</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;subscriptions&quot;</span><span class="p">))</span>
</span><span id="Peer.from_dict-117"><a href="#Peer.from_dict-117"><span class="linenos">117</span></a>
</span><span id="Peer.from_dict-118"><a href="#Peer.from_dict-118"><span class="linenos">118</span></a>        <span class="n">tracks</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Peer.from_dict-119"><a href="#Peer.from_dict-119"><span class="linenos">119</span></a>        <span class="n">_tracks</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;tracks&quot;</span><span class="p">)</span>
</span><span id="Peer.from_dict-120"><a href="#Peer.from_dict-120"><span class="linenos">120</span></a>        <span class="k">for</span> <span class="n">tracks_item_data</span> <span class="ow">in</span> <span class="n">_tracks</span><span class="p">:</span>
</span><span id="Peer.from_dict-121"><a href="#Peer.from_dict-121"><span class="linenos">121</span></a>            <span class="n">tracks_item</span> <span class="o">=</span> <span class="n">Track</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">tracks_item_data</span><span class="p">)</span>
</span><span id="Peer.from_dict-122"><a href="#Peer.from_dict-122"><span class="linenos">122</span></a>
</span><span id="Peer.from_dict-123"><a href="#Peer.from_dict-123"><span class="linenos">123</span></a>            <span class="n">tracks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tracks_item</span><span class="p">)</span>
</span><span id="Peer.from_dict-124"><a href="#Peer.from_dict-124"><span class="linenos">124</span></a>
</span><span id="Peer.from_dict-125"><a href="#Peer.from_dict-125"><span class="linenos">125</span></a>        <span class="n">type_</span> <span class="o">=</span> <span class="n">PeerType</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">))</span>
</span><span id="Peer.from_dict-126"><a href="#Peer.from_dict-126"><span class="linenos">126</span></a>
</span><span id="Peer.from_dict-127"><a href="#Peer.from_dict-127"><span class="linenos">127</span></a>        <span class="n">peer</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span>
</span><span id="Peer.from_dict-128"><a href="#Peer.from_dict-128"><span class="linenos">128</span></a>            <span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span>
</span><span id="Peer.from_dict-129"><a href="#Peer.from_dict-129"><span class="linenos">129</span></a>            <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
</span><span id="Peer.from_dict-130"><a href="#Peer.from_dict-130"><span class="linenos">130</span></a>            <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
</span><span id="Peer.from_dict-131"><a href="#Peer.from_dict-131"><span class="linenos">131</span></a>            <span class="n">subscribe_mode</span><span class="o">=</span><span class="n">subscribe_mode</span><span class="p">,</span>
</span><span id="Peer.from_dict-132"><a href="#Peer.from_dict-132"><span class="linenos">132</span></a>            <span class="n">subscriptions</span><span class="o">=</span><span class="n">subscriptions</span><span class="p">,</span>
</span><span id="Peer.from_dict-133"><a href="#Peer.from_dict-133"><span class="linenos">133</span></a>            <span class="n">tracks</span><span class="o">=</span><span class="n">tracks</span><span class="p">,</span>
</span><span id="Peer.from_dict-134"><a href="#Peer.from_dict-134"><span class="linenos">134</span></a>            <span class="n">type_</span><span class="o">=</span><span class="n">type_</span><span class="p">,</span>
</span><span id="Peer.from_dict-135"><a href="#Peer.from_dict-135"><span class="linenos">135</span></a>        <span class="p">)</span>
</span><span id="Peer.from_dict-136"><a href="#Peer.from_dict-136"><span class="linenos">136</span></a>
</span><span id="Peer.from_dict-137"><a href="#Peer.from_dict-137"><span class="linenos">137</span></a>        <span class="n">peer</span><span class="o">.</span><span class="n">additional_properties</span> <span class="o">=</span> <span class="n">d</span>
</span><span id="Peer.from_dict-138"><a href="#Peer.from_dict-138"><span class="linenos">138</span></a>        <span class="k">return</span> <span class="n">peer</span>
</span></pre></div>




                            </div>
                            <div id="Peer.additional_keys" class="classattr">
                                        <input id="Peer.additional_keys-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">additional_keys</span><span class="annotation">: list[str]</span>

                <label class="view-source-button" for="Peer.additional_keys-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Peer.additional_keys"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Peer.additional_keys-140"><a href="#Peer.additional_keys-140"><span class="linenos">140</span></a>    <span class="nd">@property</span>
</span><span id="Peer.additional_keys-141"><a href="#Peer.additional_keys-141"><span class="linenos">141</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">additional_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Peer.additional_keys-142"><a href="#Peer.additional_keys-142"><span class="linenos">142</span></a>        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">additional_properties</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</span></pre></div>




                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js"></script>
        <script src="../js/custom.js"></script>
        <script src="../js/version-select.js"></script>

        <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
